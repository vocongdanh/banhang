"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/ai/[agentId]/chat/page",{

/***/ "(app-pages-browser)/./node_modules/react-syntax-highlighter/dist/esm/styles/prism/tomorrow.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-syntax-highlighter/dist/esm/styles/prism/tomorrow.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  \"code[class*=\\\"language-\\\"]\": {\n    \"color\": \"#ccc\",\n    \"background\": \"none\",\n    \"fontFamily\": \"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace\",\n    \"fontSize\": \"1em\",\n    \"textAlign\": \"left\",\n    \"whiteSpace\": \"pre\",\n    \"wordSpacing\": \"normal\",\n    \"wordBreak\": \"normal\",\n    \"wordWrap\": \"normal\",\n    \"lineHeight\": \"1.5\",\n    \"MozTabSize\": \"4\",\n    \"OTabSize\": \"4\",\n    \"tabSize\": \"4\",\n    \"WebkitHyphens\": \"none\",\n    \"MozHyphens\": \"none\",\n    \"msHyphens\": \"none\",\n    \"hyphens\": \"none\"\n  },\n  \"pre[class*=\\\"language-\\\"]\": {\n    \"color\": \"#ccc\",\n    \"background\": \"#2d2d2d\",\n    \"fontFamily\": \"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace\",\n    \"fontSize\": \"1em\",\n    \"textAlign\": \"left\",\n    \"whiteSpace\": \"pre\",\n    \"wordSpacing\": \"normal\",\n    \"wordBreak\": \"normal\",\n    \"wordWrap\": \"normal\",\n    \"lineHeight\": \"1.5\",\n    \"MozTabSize\": \"4\",\n    \"OTabSize\": \"4\",\n    \"tabSize\": \"4\",\n    \"WebkitHyphens\": \"none\",\n    \"MozHyphens\": \"none\",\n    \"msHyphens\": \"none\",\n    \"hyphens\": \"none\",\n    \"padding\": \"1em\",\n    \"margin\": \".5em 0\",\n    \"overflow\": \"auto\"\n  },\n  \":not(pre) > code[class*=\\\"language-\\\"]\": {\n    \"background\": \"#2d2d2d\",\n    \"padding\": \".1em\",\n    \"borderRadius\": \".3em\",\n    \"whiteSpace\": \"normal\"\n  },\n  \"comment\": {\n    \"color\": \"#999\"\n  },\n  \"block-comment\": {\n    \"color\": \"#999\"\n  },\n  \"prolog\": {\n    \"color\": \"#999\"\n  },\n  \"doctype\": {\n    \"color\": \"#999\"\n  },\n  \"cdata\": {\n    \"color\": \"#999\"\n  },\n  \"punctuation\": {\n    \"color\": \"#ccc\"\n  },\n  \"tag\": {\n    \"color\": \"#e2777a\"\n  },\n  \"attr-name\": {\n    \"color\": \"#e2777a\"\n  },\n  \"namespace\": {\n    \"color\": \"#e2777a\"\n  },\n  \"deleted\": {\n    \"color\": \"#e2777a\"\n  },\n  \"function-name\": {\n    \"color\": \"#6196cc\"\n  },\n  \"boolean\": {\n    \"color\": \"#f08d49\"\n  },\n  \"number\": {\n    \"color\": \"#f08d49\"\n  },\n  \"function\": {\n    \"color\": \"#f08d49\"\n  },\n  \"property\": {\n    \"color\": \"#f8c555\"\n  },\n  \"class-name\": {\n    \"color\": \"#f8c555\"\n  },\n  \"constant\": {\n    \"color\": \"#f8c555\"\n  },\n  \"symbol\": {\n    \"color\": \"#f8c555\"\n  },\n  \"selector\": {\n    \"color\": \"#cc99cd\"\n  },\n  \"important\": {\n    \"color\": \"#cc99cd\",\n    \"fontWeight\": \"bold\"\n  },\n  \"atrule\": {\n    \"color\": \"#cc99cd\"\n  },\n  \"keyword\": {\n    \"color\": \"#cc99cd\"\n  },\n  \"builtin\": {\n    \"color\": \"#cc99cd\"\n  },\n  \"string\": {\n    \"color\": \"#7ec699\"\n  },\n  \"char\": {\n    \"color\": \"#7ec699\"\n  },\n  \"attr-value\": {\n    \"color\": \"#7ec699\"\n  },\n  \"regex\": {\n    \"color\": \"#7ec699\"\n  },\n  \"variable\": {\n    \"color\": \"#7ec699\"\n  },\n  \"operator\": {\n    \"color\": \"#67cdcc\"\n  },\n  \"entity\": {\n    \"color\": \"#67cdcc\",\n    \"cursor\": \"help\"\n  },\n  \"url\": {\n    \"color\": \"#67cdcc\"\n  },\n  \"bold\": {\n    \"fontWeight\": \"bold\"\n  },\n  \"italic\": {\n    \"fontStyle\": \"italic\"\n  },\n  \"inserted\": {\n    \"color\": \"green\"\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9yZWFjdC1zeW50YXgtaGlnaGxpZ2h0ZXIvZGlzdC9lc20vc3R5bGVzL3ByaXNtL3RvbW9ycm93LmpzIiwibWFwcGluZ3MiOiI7QUFBQSwrREFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyL2Rpc3QvZXNtL3N0eWxlcy9wcmlzbS90b21vcnJvdy5qcz80NzFhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgXCJjb2RlW2NsYXNzKj1cXFwibGFuZ3VhZ2UtXFxcIl1cIjoge1xuICAgIFwiY29sb3JcIjogXCIjY2NjXCIsXG4gICAgXCJiYWNrZ3JvdW5kXCI6IFwibm9uZVwiLFxuICAgIFwiZm9udEZhbWlseVwiOiBcIkNvbnNvbGFzLCBNb25hY28sICdBbmRhbGUgTW9ubycsICdVYnVudHUgTW9ubycsIG1vbm9zcGFjZVwiLFxuICAgIFwiZm9udFNpemVcIjogXCIxZW1cIixcbiAgICBcInRleHRBbGlnblwiOiBcImxlZnRcIixcbiAgICBcIndoaXRlU3BhY2VcIjogXCJwcmVcIixcbiAgICBcIndvcmRTcGFjaW5nXCI6IFwibm9ybWFsXCIsXG4gICAgXCJ3b3JkQnJlYWtcIjogXCJub3JtYWxcIixcbiAgICBcIndvcmRXcmFwXCI6IFwibm9ybWFsXCIsXG4gICAgXCJsaW5lSGVpZ2h0XCI6IFwiMS41XCIsXG4gICAgXCJNb3pUYWJTaXplXCI6IFwiNFwiLFxuICAgIFwiT1RhYlNpemVcIjogXCI0XCIsXG4gICAgXCJ0YWJTaXplXCI6IFwiNFwiLFxuICAgIFwiV2Via2l0SHlwaGVuc1wiOiBcIm5vbmVcIixcbiAgICBcIk1vekh5cGhlbnNcIjogXCJub25lXCIsXG4gICAgXCJtc0h5cGhlbnNcIjogXCJub25lXCIsXG4gICAgXCJoeXBoZW5zXCI6IFwibm9uZVwiXG4gIH0sXG4gIFwicHJlW2NsYXNzKj1cXFwibGFuZ3VhZ2UtXFxcIl1cIjoge1xuICAgIFwiY29sb3JcIjogXCIjY2NjXCIsXG4gICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzJkMmQyZFwiLFxuICAgIFwiZm9udEZhbWlseVwiOiBcIkNvbnNvbGFzLCBNb25hY28sICdBbmRhbGUgTW9ubycsICdVYnVudHUgTW9ubycsIG1vbm9zcGFjZVwiLFxuICAgIFwiZm9udFNpemVcIjogXCIxZW1cIixcbiAgICBcInRleHRBbGlnblwiOiBcImxlZnRcIixcbiAgICBcIndoaXRlU3BhY2VcIjogXCJwcmVcIixcbiAgICBcIndvcmRTcGFjaW5nXCI6IFwibm9ybWFsXCIsXG4gICAgXCJ3b3JkQnJlYWtcIjogXCJub3JtYWxcIixcbiAgICBcIndvcmRXcmFwXCI6IFwibm9ybWFsXCIsXG4gICAgXCJsaW5lSGVpZ2h0XCI6IFwiMS41XCIsXG4gICAgXCJNb3pUYWJTaXplXCI6IFwiNFwiLFxuICAgIFwiT1RhYlNpemVcIjogXCI0XCIsXG4gICAgXCJ0YWJTaXplXCI6IFwiNFwiLFxuICAgIFwiV2Via2l0SHlwaGVuc1wiOiBcIm5vbmVcIixcbiAgICBcIk1vekh5cGhlbnNcIjogXCJub25lXCIsXG4gICAgXCJtc0h5cGhlbnNcIjogXCJub25lXCIsXG4gICAgXCJoeXBoZW5zXCI6IFwibm9uZVwiLFxuICAgIFwicGFkZGluZ1wiOiBcIjFlbVwiLFxuICAgIFwibWFyZ2luXCI6IFwiLjVlbSAwXCIsXG4gICAgXCJvdmVyZmxvd1wiOiBcImF1dG9cIlxuICB9LFxuICBcIjpub3QocHJlKSA+IGNvZGVbY2xhc3MqPVxcXCJsYW5ndWFnZS1cXFwiXVwiOiB7XG4gICAgXCJiYWNrZ3JvdW5kXCI6IFwiIzJkMmQyZFwiLFxuICAgIFwicGFkZGluZ1wiOiBcIi4xZW1cIixcbiAgICBcImJvcmRlclJhZGl1c1wiOiBcIi4zZW1cIixcbiAgICBcIndoaXRlU3BhY2VcIjogXCJub3JtYWxcIlxuICB9LFxuICBcImNvbW1lbnRcIjoge1xuICAgIFwiY29sb3JcIjogXCIjOTk5XCJcbiAgfSxcbiAgXCJibG9jay1jb21tZW50XCI6IHtcbiAgICBcImNvbG9yXCI6IFwiIzk5OVwiXG4gIH0sXG4gIFwicHJvbG9nXCI6IHtcbiAgICBcImNvbG9yXCI6IFwiIzk5OVwiXG4gIH0sXG4gIFwiZG9jdHlwZVwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiM5OTlcIlxuICB9LFxuICBcImNkYXRhXCI6IHtcbiAgICBcImNvbG9yXCI6IFwiIzk5OVwiXG4gIH0sXG4gIFwicHVuY3R1YXRpb25cIjoge1xuICAgIFwiY29sb3JcIjogXCIjY2NjXCJcbiAgfSxcbiAgXCJ0YWdcIjoge1xuICAgIFwiY29sb3JcIjogXCIjZTI3NzdhXCJcbiAgfSxcbiAgXCJhdHRyLW5hbWVcIjoge1xuICAgIFwiY29sb3JcIjogXCIjZTI3NzdhXCJcbiAgfSxcbiAgXCJuYW1lc3BhY2VcIjoge1xuICAgIFwiY29sb3JcIjogXCIjZTI3NzdhXCJcbiAgfSxcbiAgXCJkZWxldGVkXCI6IHtcbiAgICBcImNvbG9yXCI6IFwiI2UyNzc3YVwiXG4gIH0sXG4gIFwiZnVuY3Rpb24tbmFtZVwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiM2MTk2Y2NcIlxuICB9LFxuICBcImJvb2xlYW5cIjoge1xuICAgIFwiY29sb3JcIjogXCIjZjA4ZDQ5XCJcbiAgfSxcbiAgXCJudW1iZXJcIjoge1xuICAgIFwiY29sb3JcIjogXCIjZjA4ZDQ5XCJcbiAgfSxcbiAgXCJmdW5jdGlvblwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiNmMDhkNDlcIlxuICB9LFxuICBcInByb3BlcnR5XCI6IHtcbiAgICBcImNvbG9yXCI6IFwiI2Y4YzU1NVwiXG4gIH0sXG4gIFwiY2xhc3MtbmFtZVwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiNmOGM1NTVcIlxuICB9LFxuICBcImNvbnN0YW50XCI6IHtcbiAgICBcImNvbG9yXCI6IFwiI2Y4YzU1NVwiXG4gIH0sXG4gIFwic3ltYm9sXCI6IHtcbiAgICBcImNvbG9yXCI6IFwiI2Y4YzU1NVwiXG4gIH0sXG4gIFwic2VsZWN0b3JcIjoge1xuICAgIFwiY29sb3JcIjogXCIjY2M5OWNkXCJcbiAgfSxcbiAgXCJpbXBvcnRhbnRcIjoge1xuICAgIFwiY29sb3JcIjogXCIjY2M5OWNkXCIsXG4gICAgXCJmb250V2VpZ2h0XCI6IFwiYm9sZFwiXG4gIH0sXG4gIFwiYXRydWxlXCI6IHtcbiAgICBcImNvbG9yXCI6IFwiI2NjOTljZFwiXG4gIH0sXG4gIFwia2V5d29yZFwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiNjYzk5Y2RcIlxuICB9LFxuICBcImJ1aWx0aW5cIjoge1xuICAgIFwiY29sb3JcIjogXCIjY2M5OWNkXCJcbiAgfSxcbiAgXCJzdHJpbmdcIjoge1xuICAgIFwiY29sb3JcIjogXCIjN2VjNjk5XCJcbiAgfSxcbiAgXCJjaGFyXCI6IHtcbiAgICBcImNvbG9yXCI6IFwiIzdlYzY5OVwiXG4gIH0sXG4gIFwiYXR0ci12YWx1ZVwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiM3ZWM2OTlcIlxuICB9LFxuICBcInJlZ2V4XCI6IHtcbiAgICBcImNvbG9yXCI6IFwiIzdlYzY5OVwiXG4gIH0sXG4gIFwidmFyaWFibGVcIjoge1xuICAgIFwiY29sb3JcIjogXCIjN2VjNjk5XCJcbiAgfSxcbiAgXCJvcGVyYXRvclwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiM2N2NkY2NcIlxuICB9LFxuICBcImVudGl0eVwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiM2N2NkY2NcIixcbiAgICBcImN1cnNvclwiOiBcImhlbHBcIlxuICB9LFxuICBcInVybFwiOiB7XG4gICAgXCJjb2xvclwiOiBcIiM2N2NkY2NcIlxuICB9LFxuICBcImJvbGRcIjoge1xuICAgIFwiZm9udFdlaWdodFwiOiBcImJvbGRcIlxuICB9LFxuICBcIml0YWxpY1wiOiB7XG4gICAgXCJmb250U3R5bGVcIjogXCJpdGFsaWNcIlxuICB9LFxuICBcImluc2VydGVkXCI6IHtcbiAgICBcImNvbG9yXCI6IFwiZ3JlZW5cIlxuICB9XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/react-syntax-highlighter/dist/esm/styles/prism/tomorrow.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/ai/[agentId]/chat/page.tsx":
/*!****************************************!*\
  !*** ./app/ai/[agentId]/chat/page.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/layout/app-shell */ \"(app-pages-browser)/./components/layout/app-shell.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/avatar */ \"(app-pages-browser)/./components/ui/avatar.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/tooltip */ \"(app-pages-browser)/./components/ui/tooltip.tsx\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(app-pages-browser)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.tsx\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _lib_api_client__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/api-client */ \"(app-pages-browser)/./lib/api-client.ts\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-markdown */ \"(app-pages-browser)/./node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! remark-gfm */ \"(app-pages-browser)/./node_modules/remark-gfm/lib/index.js\");\n/* harmony import */ var react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-syntax-highlighter */ \"(app-pages-browser)/./node_modules/react-syntax-highlighter/dist/esm/prism.js\");\n/* harmony import */ var react_syntax_highlighter_dist_esm_styles_prism__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-syntax-highlighter/dist/esm/styles/prism */ \"(app-pages-browser)/./node_modules/react-syntax-highlighter/dist/esm/styles/prism/tomorrow.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst markdownStyles = {\n    p: \"mb-4 leading-relaxed\",\n    h1: \"text-3xl font-bold mb-4\",\n    h2: \"text-2xl font-bold mb-3\",\n    h3: \"text-xl font-bold mb-2\",\n    h4: \"text-lg font-bold mb-2\",\n    h5: \"text-base font-bold mb-2\",\n    h6: \"text-sm font-bold mb-2\",\n    ul: \"list-disc pl-6 mb-4\",\n    ol: \"list-decimal pl-6 mb-4\",\n    li: \"mb-1\",\n    code: \"bg-gray-100 rounded px-1 py-0.5 font-mono text-sm\",\n    pre: \"bg-gray-100 rounded-lg p-4 mb-4 overflow-x-auto\",\n    blockquote: \"border-l-4 border-gray-300 pl-4 italic my-4\",\n    a: \"text-blue-600 hover:underline\",\n    table: \"min-w-full border-collapse mb-4\",\n    thead: \"bg-gray-100\",\n    th: \"border border-gray-300 px-4 py-2 text-left\",\n    td: \"border border-gray-300 px-4 py-2\"\n};\nconst markdownComponents = {\n    p: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n            className: markdownStyles.p,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 74,\n            columnNumber: 24\n        }, undefined);\n    },\n    h1: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n            className: markdownStyles.h1,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 75,\n            columnNumber: 25\n        }, undefined);\n    },\n    h2: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n            className: markdownStyles.h2,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 76,\n            columnNumber: 25\n        }, undefined);\n    },\n    h3: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n            className: markdownStyles.h3,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 77,\n            columnNumber: 25\n        }, undefined);\n    },\n    h4: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n            className: markdownStyles.h4,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 78,\n            columnNumber: 25\n        }, undefined);\n    },\n    h5: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n            className: markdownStyles.h5,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 79,\n            columnNumber: 25\n        }, undefined);\n    },\n    h6: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h6\", {\n            className: markdownStyles.h6,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 80,\n            columnNumber: 25\n        }, undefined);\n    },\n    ul: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n            className: markdownStyles.ul,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 81,\n            columnNumber: 25\n        }, undefined);\n    },\n    ol: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n            className: markdownStyles.ol,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 82,\n            columnNumber: 25\n        }, undefined);\n    },\n    li: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n            className: markdownStyles.li,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 83,\n            columnNumber: 25\n        }, undefined);\n    },\n    code: (param)=>{\n        let { node, inline, className, children, ...props } = param;\n        const match = /language-(\\w+)/.exec(className || \"\");\n        return !inline && match ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n            style: react_syntax_highlighter_dist_esm_styles_prism__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n            language: match[1],\n            PreTag: \"div\",\n            ...props,\n            children: String(children).replace(/\\n$/, \"\")\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 87,\n            columnNumber: 7\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n            className: markdownStyles.code,\n            ...props,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 96,\n            columnNumber: 7\n        }, undefined);\n    },\n    pre: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n            className: markdownStyles.pre,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 101,\n            columnNumber: 26\n        }, undefined);\n    },\n    blockquote: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"blockquote\", {\n            className: markdownStyles.blockquote,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 103,\n            columnNumber: 5\n        }, undefined);\n    },\n    a: (param)=>{\n        let { href, children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n            href: href,\n            className: markdownStyles.a,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 106,\n            columnNumber: 5\n        }, undefined);\n    },\n    table: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n            className: markdownStyles.table,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 110,\n            columnNumber: 28\n        }, undefined);\n    },\n    thead: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n            className: markdownStyles.thead,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 111,\n            columnNumber: 28\n        }, undefined);\n    },\n    th: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n            className: markdownStyles.th,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 112,\n            columnNumber: 25\n        }, undefined);\n    },\n    td: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n            className: markdownStyles.td,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 113,\n            columnNumber: 25\n        }, undefined);\n    }\n};\n// Component wrapper cho ReactMarkdown\nconst MarkdownContent = (param)=>{\n    let { content } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"markdown-content\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_16__.Markdown, {\n            remarkPlugins: [\n                remark_gfm__WEBPACK_IMPORTED_MODULE_17__[\"default\"]\n            ],\n            components: markdownComponents,\n            children: content\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 119,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n        lineNumber: 118,\n        columnNumber: 3\n    }, undefined);\n};\n_c = MarkdownContent;\nfunction ChatPage() {\n    var _process_env_NEXT_PUBLIC_API_URL, _agent_name, _process_env_NEXT_PUBLIC_API_URL1, _agent_name1, _agent_capabilities, _agent_capabilities1;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_11__.useToast)();\n    const [agent, setAgent] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [conversation, setConversation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [inputMessage, setInputMessage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isNewConversation, setIsNewConversation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLoggedIn, setIsLoggedIn] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [businessId, setBusinessId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const agentId = params === null || params === void 0 ? void 0 : params.agentId;\n    if (!(params === null || params === void 0 ? void 0 : params.agentId)) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: \"Agent ID kh\\xf4ng hợp lệ\"\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 149,\n            columnNumber: 12\n        }, this);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Check for login and get business ID\n        const token = localStorage.getItem(\"auth_token\");\n        setIsLoggedIn(!!token);\n        const currentBusinessId = (0,_lib_api_client__WEBPACK_IMPORTED_MODULE_13__.getBusinessId)();\n        if (currentBusinessId) {\n            setBusinessId(currentBusinessId);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (isLoggedIn && businessId && agentId) {\n            console.log(\"Fetching agent details and conversation with:\", {\n                isLoggedIn,\n                businessId,\n                agentId\n            });\n            fetchAgentDetails();\n            fetchOrCreateConversation();\n        }\n    }, [\n        isLoggedIn,\n        businessId,\n        agentId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Scroll to bottom when messages change\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Disable eslint warning for missing dependencies\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const fetchAgentDetails = async ()=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            console.log(\"Fetching agent details:\", {\n                agentId,\n                apiUrl: \"\".concat(apiUrl, \"/ai-agents/\").concat(agentId)\n            });\n            const response = await fetch(\"\".concat(apiUrl, \"/ai-agents/\").concat(agentId), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Agent details response status:\", response.status);\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch agent details\");\n            }\n            const data = await response.json();\n            console.log(\"Agent data received:\", data);\n            setAgent(data.data);\n        } catch (error) {\n            console.error(\"Error fetching agent details:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to load AI agent. Please try again.\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const fetchOrCreateConversation = async ()=>{\n        setIsLoading(true);\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            console.log(\"Fetching existing conversations:\", {\n                agentId,\n                businessId,\n                url: \"\".concat(apiUrl, \"/ai-conversations?business_id=\").concat(businessId)\n            });\n            // Try to find an existing conversation with this agent\n            const responseExisting = await fetch(\"\".concat(apiUrl, \"/ai-conversations?business_id=\").concat(businessId), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Existing conversations response status:\", responseExisting.status);\n            if (!responseExisting.ok) {\n                throw new Error(\"Failed to fetch conversations\");\n            }\n            const existingData = await responseExisting.json();\n            console.log(\"Existing conversations:\", existingData);\n            // If there's an existing conversation, use it\n            if (existingData.data && existingData.data.length > 0) {\n                // Lọc cuộc trò chuyện với agent hiện tại\n                const agentConversations = existingData.data.filter((conv)=>conv.ai_agent_id === agentId);\n                console.log(\"Agent conversations:\", agentConversations);\n                if (agentConversations.length > 0) {\n                    const conv = agentConversations[0]; // Lấy cuộc trò chuyện gần nhất\n                    setConversation(conv);\n                    await fetchMessages(conv.id);\n                    setIsNewConversation(false);\n                } else {\n                    // Không tìm thấy cuộc trò chuyện với agent này\n                    setIsNewConversation(true);\n                    setMessages([]);\n                }\n            } else {\n                // Otherwise create a new conversation\n                setIsNewConversation(true);\n                setMessages([]);\n            }\n        } catch (error) {\n            console.error(\"Error fetching/creating conversation:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to load conversation. Please try again.\",\n                variant: \"destructive\"\n            });\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const fetchMessages = async (conversationId)=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            console.log(\"Fetching messages for conversation:\", conversationId);\n            const response = await fetch(\"\".concat(apiUrl, \"/ai-conversations/\").concat(conversationId), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Messages response status:\", response.status);\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch messages\");\n            }\n            const data = await response.json();\n            console.log(\"Messages data:\", data);\n            // API có thể trả về cấu trúc khác nhau\n            if (data.messages) {\n                setMessages(data.messages);\n            } else if (data.data && data.data.messages) {\n                setMessages(data.data.messages);\n            } else {\n                console.error(\"Unexpected message data structure:\", data);\n                setMessages([]);\n            }\n        } catch (error) {\n            console.error(\"Error fetching messages:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to load messages. Please try again.\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const createNewConversation = async (initialMessage)=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            console.log(\"Creating new conversation with:\", {\n                agentId,\n                businessId,\n                initialMessage,\n                apiUrl\n            });\n            const fullUrl = \"\".concat(apiUrl, \"/ai-conversations\");\n            console.log(\"POST request to:\", fullUrl);\n            const response = await fetch(fullUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    ai_agent_id: agentId,\n                    business_id: businessId,\n                    initial_message: initialMessage\n                }),\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Create conversation response status:\", response.status);\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(\"Error creating conversation:\", errorText);\n                throw new Error(\"Failed to create conversation\");\n            }\n            const data = await response.json();\n            console.log(\"Conversation created successfully:\", data);\n            let conversationData;\n            if (data.data) {\n                conversationData = data.data;\n            } else {\n                conversationData = data;\n            }\n            setConversation(conversationData);\n            if (conversationData.id) {\n                await fetchMessages(conversationData.id);\n                setIsNewConversation(false);\n                return conversationData.id;\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error creating conversation:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to create conversation. Please try again.\",\n                variant: \"destructive\"\n            });\n            return null;\n        }\n    };\n    const sendMessage = async ()=>{\n        if (!inputMessage.trim() && files.length === 0) return;\n        setIsSending(true);\n        try {\n            var _prepareData_message;\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            let conversationId = conversation === null || conversation === void 0 ? void 0 : conversation.id;\n            // Check if we have a conversation or need to create one\n            if (!conversationId) {\n                await createNewConversation(inputMessage);\n                if (!conversationId) {\n                    throw new Error(\"Failed to create conversation\");\n                }\n                // Reset input after creating conversation\n                setInputMessage(\"\");\n                setFiles([]);\n                setIsSending(false);\n                return;\n            }\n            // Create a temporary user message to display immediately\n            const userMessage = {\n                id: \"temp-\".concat(Date.now()),\n                ai_conversation_id: conversationId,\n                role: \"user\",\n                content: inputMessage,\n                is_read: true,\n                created_at: new Date().toISOString()\n            };\n            // Create a temporary assistant message with loading state\n            const tempAssistantMessage = {\n                id: \"temp-response-\".concat(Date.now()),\n                ai_conversation_id: conversationId,\n                role: \"assistant\",\n                content: \"\",\n                is_read: false,\n                created_at: new Date().toISOString(),\n                loading: true\n            };\n            // Add temporary messages to the UI\n            setMessages((prev)=>[\n                    ...prev,\n                    userMessage,\n                    tempAssistantMessage\n                ]);\n            // Prepare form data for the request\n            const formData = new FormData();\n            formData.append(\"content\", inputMessage);\n            // Add files if any\n            if (files.length > 0) {\n                console.log(\"Adding files to request:\", files.length);\n                files.forEach((file)=>{\n                    formData.append(\"files[]\", file);\n                });\n            }\n            // Clear input and files\n            setInputMessage(\"\");\n            setFiles([]);\n            // Step 1: First send the message to the stream-prepare endpoint to get a token\n            const prepareResponse = await fetch(\"\".concat(apiUrl, \"/ai-conversations/\").concat(conversationId, \"/messages/stream-prepare\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                },\n                body: JSON.stringify({\n                    content: inputMessage\n                })\n            });\n            if (!prepareResponse.ok) {\n                throw new Error(\"Failed to prepare streaming session\");\n            }\n            const prepareData = await prepareResponse.json();\n            const streamToken = prepareData.stream_token;\n            if (!streamToken) {\n                throw new Error(\"No stream token received\");\n            }\n            // Step 2: Use the stream token to connect to the streaming endpoint\n            const streamUrl = \"\".concat(apiUrl, \"/ai-direct-stream/\").concat(streamToken);\n            console.log(\"Connecting to streaming URL:\", streamUrl);\n            // Create Event Source for SSE (Server-Sent Events)\n            const eventSource = new EventSource(streamUrl);\n            console.log(\"EventSource created\");\n            // Handle connection open\n            eventSource.onopen = (event)=>{\n                console.log(\"EventSource connection opened:\", event);\n            };\n            let realUserMessageId = ((_prepareData_message = prepareData.message) === null || _prepareData_message === void 0 ? void 0 : _prepareData_message.id) || \"\";\n            let realAssistantMessageId = \"\";\n            // Set the user message with the actual ID from the server\n            if (prepareData.message) {\n                setMessages((prev)=>prev.map((msg)=>msg.id === userMessage.id ? {\n                            ...prepareData.message\n                        } : msg));\n            }\n            // Handle stream events\n            eventSource.onmessage = (event)=>{\n                console.log(\"Stream event received:\", event.data);\n                if (event.data === \"[DONE]\") {\n                    console.log(\"Stream complete, closing connection\");\n                    eventSource.close();\n                    // Cập nhật trạng thái loading khi hoàn thành\n                    setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                                ...msg,\n                                loading: false\n                            } : msg));\n                    setIsSending(false);\n                    return;\n                }\n                try {\n                    const data = JSON.parse(event.data);\n                    console.log(\"Parsed stream data:\", data);\n                    // Handle data from direct streaming endpoint\n                    if (data.type === \"chunk\") {\n                        console.log(\"Text chunk received:\", data.content);\n                        // Hiển thị ngay lập tức từng chunk text\n                        setMessages((prev)=>{\n                            const updatedMessages = prev.map((msg)=>{\n                                if (msg.id === tempAssistantMessage.id) {\n                                    return {\n                                        ...msg,\n                                        content: msg.content + data.content\n                                    };\n                                }\n                                return msg;\n                            });\n                            return updatedMessages;\n                        });\n                        return;\n                    }\n                    // Handle completion event from Assistants API\n                    if (data.type === \"complete\") {\n                        console.log(\"Streaming complete, waiting for message ID\");\n                        // We'll keep the message as is until we get the message_saved event\n                        return;\n                    }\n                    // Handle saved message with ID from the backend\n                    if (data.type === \"message_saved\" && data.message_id) {\n                        console.log(\"Message saved with ID:\", data.message_id);\n                        // Update our temporary message with the real one from the database\n                        setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                                    ...msg,\n                                    id: data.message_id,\n                                    loading: false\n                                } : msg));\n                        setIsSending(false);\n                        return;\n                    }\n                    // Handle error event\n                    if (data.type === \"error\") {\n                        console.error(\"Error received:\", data.message || data.error);\n                        toast({\n                            title: \"Error\",\n                            description: data.message || data.error || \"An error occurred while processing your message.\",\n                            variant: \"destructive\"\n                        });\n                        // Update the assistant message to show error\n                        setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                                    ...msg,\n                                    content: data.message || \"Xin lỗi, đ\\xe3 xảy ra lỗi khi xử l\\xfd tin nhắn.\",\n                                    loading: false\n                                } : msg));\n                        setIsSending(false);\n                        return;\n                    }\n                } catch (err) {\n                    console.error(\"Error processing stream event:\", err);\n                }\n            };\n            eventSource.onerror = (error)=>{\n                var _error_target;\n                console.error(\"EventSource error:\", error);\n                // Check if the error is due to the user not being authenticated\n                if (error instanceof Event && ((_error_target = error.target) === null || _error_target === void 0 ? void 0 : _error_target.readyState) === EventSource.CLOSED) {\n                    console.error(\"EventSource connection closed\");\n                }\n                eventSource.close();\n                setIsSending(false);\n                toast({\n                    title: \"Connection Error\",\n                    description: \"Could not establish streaming connection. Please try again.\",\n                    variant: \"destructive\"\n                });\n                // Update the assistant message to show error\n                setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                            ...msg,\n                            content: \"Kh\\xf4ng thể kết nối tới m\\xe1y chủ. Vui l\\xf2ng thử lại sau hoặc đăng nhập lại.\",\n                            loading: false\n                        } : msg));\n            };\n        } catch (error) {\n            console.error(\"Error sending message:\", error);\n            setIsSending(false);\n            toast({\n                title: \"Error\",\n                description: \"Failed to send message. Please try again.\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const handleKeyDown = (e)=>{\n        console.log(\"Key down event:\", e.key);\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            console.log(\"Enter key pressed (without shift)\");\n            sendMessage();\n        }\n    };\n    const handleFileClick = ()=>{\n        var _fileInputRef_current;\n        console.log(\"File button clicked\");\n        (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n    };\n    const handleFileChange = (e)=>{\n        console.log(\"File input changed\");\n        if (e.target.files) {\n            const newFiles = Array.from(e.target.files);\n            console.log(\"Selected files:\", newFiles.map((f)=>f.name));\n            setFiles((prev)=>[\n                    ...prev,\n                    ...newFiles\n                ]);\n        }\n    };\n    const removeFile = (index)=>{\n        console.log(\"Removing file at index:\", index);\n        setFiles((prev)=>prev.filter((_, i)=>i !== index));\n    };\n    const formatTime = (dateString)=>{\n        const date = new Date(dateString);\n        return date.toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        });\n    };\n    if (!isLoggedIn) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto py-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8 bg-yellow-50 border border-yellow-300 rounded-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-semibold mb-2\",\n                            children: \"Bạn cần đăng nhập trước\"\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 674,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: [\n                                \"Vui l\\xf2ng \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: \"/login\",\n                                    className: \"text-blue-600 hover:underline\",\n                                    children: \"đăng nhập\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 675,\n                                    columnNumber: 25\n                                }, this),\n                                \" để sử dụng t\\xednh năng n\\xe0y.\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 675,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                    lineNumber: 673,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                lineNumber: 672,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 671,\n            columnNumber: 7\n        }, this);\n    }\n    if (!businessId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto py-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8 bg-yellow-50 border border-yellow-300 rounded-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-semibold mb-2\",\n                            children: \"Chọn doanh nghiệp\"\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 687,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Vui l\\xf2ng chọn một doanh nghiệp để chat với AI Agent.\"\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 688,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                    lineNumber: 686,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                lineNumber: 685,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 684,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__.AppShell, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"ce13646027efefd5\",\n                dynamic: [\n                    markdownStyles\n                ],\n                children: \".typing-indicator{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.typing-indicator span{height:8px;width:8px;background:currentColor;opacity:.6;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;margin:0 2px;-webkit-animation:bounce 1.5s infinite ease-in-out;-moz-animation:bounce 1.5s infinite ease-in-out;-o-animation:bounce 1.5s infinite ease-in-out;animation:bounce 1.5s infinite ease-in-out}.typing-indicator span:nth-child(1){-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.typing-indicator span:nth-child(2){-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}.typing-indicator span:nth-child(3){-webkit-animation-delay:.4s;-moz-animation-delay:.4s;-o-animation-delay:.4s;animation-delay:.4s}@-webkit-keyframes bounce{0%,60%,100%{-webkit-transform:translatey(0);transform:translatey(0)}30%{-webkit-transform:translatey(-4px);transform:translatey(-4px)}}@-moz-keyframes bounce{0%,60%,100%{-moz-transform:translatey(0);transform:translatey(0)}30%{-moz-transform:translatey(-4px);transform:translatey(-4px)}}@-o-keyframes bounce{0%,60%,100%{-o-transform:translatey(0);transform:translatey(0)}30%{-o-transform:translatey(-4px);transform:translatey(-4px)}}@keyframes bounce{0%,60%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}30%{-webkit-transform:translatey(-4px);-moz-transform:translatey(-4px);-o-transform:translatey(-4px);transform:translatey(-4px)}}\".concat(markdownStyles, \"\\n      \")\n            }, void 0, false, void 0, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                    [\n                        \"ce13646027efefd5\",\n                        [\n                            markdownStyles\n                        ]\n                    ]\n                ]) + \" \" + \"flex flex-col h-[calc(100vh-4rem)]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                            [\n                                \"ce13646027efefd5\",\n                                [\n                                    markdownStyles\n                                ]\n                            ]\n                        ]) + \" \" + \"border-b p-4 flex justify-between items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                    [\n                                        \"ce13646027efefd5\",\n                                        [\n                                            markdownStyles\n                                        ]\n                                    ]\n                                ]) + \" \" + \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                        variant: \"ghost\",\n                                        className: \"mr-1 p-2 h-9 w-9\",\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            href: \"/ai\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 742,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 741,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 740,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.Avatar, {\n                                        className: \"h-9 w-9\",\n                                        children: (agent === null || agent === void 0 ? void 0 : agent.avatar) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarImage, {\n                                            src: agent.avatar.startsWith(\"http\") ? agent.avatar : \"\".concat((_process_env_NEXT_PUBLIC_API_URL = \"http://localhost:8001/api\") === null || _process_env_NEXT_PUBLIC_API_URL === void 0 ? void 0 : _process_env_NEXT_PUBLIC_API_URL.replace(\"/api\", \"\"), \"/storage/\").concat(agent.avatar),\n                                            alt: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI Agent\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 748,\n                                            columnNumber: 17\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                            children: (agent === null || agent === void 0 ? void 0 : (_agent_name = agent.name) === null || _agent_name === void 0 ? void 0 : _agent_name.substring(0, 2).toUpperCase()) || \"AI\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 755,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 746,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                            [\n                                                \"ce13646027efefd5\",\n                                                [\n                                                    markdownStyles\n                                                ]\n                                            ]\n                                        ]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]) + \" \" + \"font-semibold text-sm\",\n                                                children: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI Agent\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 760,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]) + \" \" + \"text-xs text-muted-foreground\",\n                                                children: (conversation === null || conversation === void 0 ? void 0 : conversation.title) || \"New conversation\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 761,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 759,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 739,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                    [\n                                        \"ce13646027efefd5\",\n                                        [\n                                            markdownStyles\n                                        ]\n                                    ]\n                                ]) + \" \" + \"text-xs text-muted-foreground\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]),\n                                    children: [\n                                        \"API: \",\n                                        \"http://localhost:8001/api\" || 0\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 769,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 768,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipProvider, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                                            asChild: true,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                                variant: \"ghost\",\n                                                size: \"icon\",\n                                                onClick: fetchOrCreateConversation,\n                                                disabled: isLoading,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                    className: \"h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                    lineNumber: 781,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 775,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 774,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipContent, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]),\n                                                children: \"Start new conversation\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 785,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 784,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 773,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 772,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 738,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_10__.ScrollArea, {\n                        className: \"flex-1 p-4\",\n                        children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"flex justify-center items-center h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                className: \"h-8 w-8 animate-spin text-muted-foreground\"\n                            }, void 0, false, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 795,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 794,\n                            columnNumber: 13\n                        }, this) : messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"flex flex-col justify-center items-center h-full text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"bg-primary/10 p-4 rounded-full mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.Avatar, {\n                                        className: \"h-12 w-12\",\n                                        children: (agent === null || agent === void 0 ? void 0 : agent.avatar) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarImage, {\n                                            src: agent.avatar.startsWith(\"http\") ? agent.avatar : \"\".concat((_process_env_NEXT_PUBLIC_API_URL1 = \"http://localhost:8001/api\") === null || _process_env_NEXT_PUBLIC_API_URL1 === void 0 ? void 0 : _process_env_NEXT_PUBLIC_API_URL1.replace(\"/api\", \"\"), \"/storage/\").concat(agent.avatar),\n                                            alt: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI Agent\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 802,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                            children: (agent === null || agent === void 0 ? void 0 : (_agent_name1 = agent.name) === null || _agent_name1 === void 0 ? void 0 : _agent_name1.substring(0, 2).toUpperCase()) || \"AI\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 809,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 800,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 799,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"text-lg font-medium mb-2\",\n                                    children: [\n                                        \"Start chatting with \",\n                                        agent === null || agent === void 0 ? void 0 : agent.name\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 813,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"text-muted-foreground max-w-md mb-6\",\n                                    children: (agent === null || agent === void 0 ? void 0 : agent.description) || \"Ask any questions or start a conversation.\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 814,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 798,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"space-y-4 pb-4\",\n                            children: [\n                                messages.filter((m)=>m.role !== \"system\").map((message)=>{\n                                    var _process_env_NEXT_PUBLIC_API_URL, _agent_name;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                            [\n                                                \"ce13646027efefd5\",\n                                                [\n                                                    markdownStyles\n                                                ]\n                                            ]\n                                        ]) + \" \" + \"flex \".concat(message.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]) + \" \" + \"flex gap-3 max-w-[80%] \".concat(message.role === \"user\" ? \"flex-row-reverse\" : \"\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.Avatar, {\n                                                    className: \"h-8 w-8 flex-shrink-0 mt-1\",\n                                                    children: message.role === \"user\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                                        children: \"Me\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 828,\n                                                        columnNumber: 25\n                                                    }, this) : (agent === null || agent === void 0 ? void 0 : agent.avatar) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarImage, {\n                                                        src: agent.avatar.startsWith(\"http\") ? agent.avatar : \"\".concat((_process_env_NEXT_PUBLIC_API_URL = \"http://localhost:8001/api\") === null || _process_env_NEXT_PUBLIC_API_URL === void 0 ? void 0 : _process_env_NEXT_PUBLIC_API_URL.replace(\"/api\", \"\"), \"/storage/\").concat(agent.avatar),\n                                                        alt: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 830,\n                                                        columnNumber: 25\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                                        children: (agent === null || agent === void 0 ? void 0 : (_agent_name = agent.name) === null || _agent_name === void 0 ? void 0 : _agent_name.substring(0, 2).toUpperCase()) || \"AI\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 837,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                    lineNumber: 826,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                        [\n                                                            \"ce13646027efefd5\",\n                                                            [\n                                                                markdownStyles\n                                                            ]\n                                                        ]\n                                                    ]),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Card, {\n                                                            className: \"\".concat(message.role === \"user\" ? \"bg-primary text-primary-foreground\" : \"bg-muted\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.CardContent, {\n                                                                className: \"p-3\",\n                                                                children: [\n                                                                    message.loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                            [\n                                                                                \"ce13646027efefd5\",\n                                                                                [\n                                                                                    markdownStyles\n                                                                                ]\n                                                                            ]\n                                                                        ]),\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MarkdownContent, {\n                                                                                content: message.content\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                lineNumber: 846,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                    [\n                                                                                        \"ce13646027efefd5\",\n                                                                                        [\n                                                                                            markdownStyles\n                                                                                        ]\n                                                                                    ]\n                                                                                ]) + \" \" + \"mt-1 flex\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                        [\n                                                                                            \"ce13646027efefd5\",\n                                                                                            [\n                                                                                                markdownStyles\n                                                                                            ]\n                                                                                        ]\n                                                                                    ]) + \" \" + \"typing-indicator\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                                [\n                                                                                                    \"ce13646027efefd5\",\n                                                                                                    [\n                                                                                                        markdownStyles\n                                                                                                    ]\n                                                                                                ]\n                                                                                            ])\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                            lineNumber: 849,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                                [\n                                                                                                    \"ce13646027efefd5\",\n                                                                                                    [\n                                                                                                        markdownStyles\n                                                                                                    ]\n                                                                                                ]\n                                                                                            ])\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                            lineNumber: 850,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                                [\n                                                                                                    \"ce13646027efefd5\",\n                                                                                                    [\n                                                                                                        markdownStyles\n                                                                                                    ]\n                                                                                                ]\n                                                                                            ])\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                            lineNumber: 851,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                    lineNumber: 848,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                lineNumber: 847,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                        lineNumber: 845,\n                                                                        columnNumber: 29\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MarkdownContent, {\n                                                                        content: message.content\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                        lineNumber: 856,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    message.files && message.files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                            [\n                                                                                \"ce13646027efefd5\",\n                                                                                [\n                                                                                    markdownStyles\n                                                                                ]\n                                                                            ]\n                                                                        ]) + \" \" + \"mt-2 grid gap-2\",\n                                                                        children: message.files.map((file, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                                href: file,\n                                                                                target: \"_blank\",\n                                                                                rel: \"noopener noreferrer\",\n                                                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                    [\n                                                                                        \"ce13646027efefd5\",\n                                                                                        [\n                                                                                            markdownStyles\n                                                                                        ]\n                                                                                    ]\n                                                                                ]) + \" \" + \"flex items-center gap-2 p-2 rounded bg-background/50 hover:bg-background\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                                                        className: \"h-4 w-4\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                        lineNumber: 870,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                            [\n                                                                                                \"ce13646027efefd5\",\n                                                                                                [\n                                                                                                    markdownStyles\n                                                                                                ]\n                                                                                            ]\n                                                                                        ]) + \" \" + \"text-xs truncate\",\n                                                                                        children: file.split(\"/\").pop() || \"File\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                        lineNumber: 871,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, index, true, {\n                                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                lineNumber: 863,\n                                                                                columnNumber: 33\n                                                                            }, this))\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                        lineNumber: 861,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                lineNumber: 843,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 842,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                [\n                                                                    \"ce13646027efefd5\",\n                                                                    [\n                                                                        markdownStyles\n                                                                    ]\n                                                                ]\n                                                            ]) + \" \" + \"text-xs text-muted-foreground mt-1 \".concat(message.role === \"user\" ? \"text-right\" : \"\"),\n                                                            children: formatTime(message.created_at)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 880,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                    lineNumber: 841,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 825,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, message.id, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 821,\n                                        columnNumber: 17\n                                    }, this);\n                                }),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: messagesEndRef,\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ])\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 887,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 819,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 792,\n                        columnNumber: 9\n                    }, this),\n                    files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                            [\n                                \"ce13646027efefd5\",\n                                [\n                                    markdownStyles\n                                ]\n                            ]\n                        ]) + \" \" + \"px-4 pt-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"flex flex-wrap gap-2\",\n                            children: files.map((file, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"flex items-center gap-1 bg-muted p-1 rounded text-xs\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]) + \" \" + \"truncate max-w-[100px]\",\n                                            children: file.name\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 898,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"icon\",\n                                            className: \"h-4 w-4 rounded-full\",\n                                            onClick: ()=>removeFile(index),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]),\n                                                children: \"\\xd7\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 905,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 899,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 897,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 895,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 894,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                            [\n                                \"ce13646027efefd5\",\n                                [\n                                    markdownStyles\n                                ]\n                            ]\n                        ]) + \" \" + \"border-t p-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"relative flex\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    ref: fileInputRef,\n                                    onChange: handleFileChange,\n                                    multiple: true,\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"hidden\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 916,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"absolute top-0 right-0 transform -translate-y-full bg-gray-100 p-1 rounded text-xs\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]),\n                                            children: [\n                                                \"isSending: \",\n                                                isSending ? \"true\" : \"false\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 926,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]),\n                                            children: [\n                                                \"isLoading: \",\n                                                isLoading ? \"true\" : \"false\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 927,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]),\n                                            children: [\n                                                \"isEmpty: \",\n                                                inputMessage.trim() === \"\" ? \"true\" : \"false\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 928,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]),\n                                            children: [\n                                                \"hasFiles: \",\n                                                files.length > 0 ? \"true\" : \"false\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 929,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]),\n                                            children: [\n                                                \"buttonDisabled: \",\n                                                isSending || inputMessage.trim() === \"\" && files.length === 0 ? \"true\" : \"false\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 930,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 925,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.Input, {\n                                    placeholder: \"Type a message...\",\n                                    value: inputMessage,\n                                    onChange: (e)=>setInputMessage(e.target.value),\n                                    onKeyDown: handleKeyDown,\n                                    disabled: isSending || isLoading,\n                                    className: \"pr-24\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 933,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"absolute right-1 top-1 flex items-center gap-1\",\n                                    children: [\n                                        (agent === null || agent === void 0 ? void 0 : (_agent_capabilities = agent.capabilities) === null || _agent_capabilities === void 0 ? void 0 : _agent_capabilities.includes(\"image_upload\")) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipProvider, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                                                        asChild: true,\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                                            type: \"button\",\n                                                            size: \"icon\",\n                                                            variant: \"ghost\",\n                                                            className: \"h-8 w-8\",\n                                                            onClick: handleFileClick,\n                                                            disabled: isSending,\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                                className: \"h-4 w-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                lineNumber: 955,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 947,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 946,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipContent, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                [\n                                                                    \"ce13646027efefd5\",\n                                                                    [\n                                                                        markdownStyles\n                                                                    ]\n                                                                ]\n                                                            ]),\n                                                            children: \"Upload images\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 959,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 958,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 945,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 944,\n                                            columnNumber: 17\n                                        }, this),\n                                        (agent === null || agent === void 0 ? void 0 : (_agent_capabilities1 = agent.capabilities) === null || _agent_capabilities1 === void 0 ? void 0 : _agent_capabilities1.includes(\"voice\")) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipProvider, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                                                        asChild: true,\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                                            type: \"button\",\n                                                            size: \"icon\",\n                                                            variant: \"ghost\",\n                                                            className: \"h-8 w-8\",\n                                                            disabled: true,\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                                className: \"h-4 w-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                lineNumber: 976,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 969,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 968,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipContent, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                [\n                                                                    \"ce13646027efefd5\",\n                                                                    [\n                                                                        markdownStyles\n                                                                    ]\n                                                                ]\n                                                            ]),\n                                                            children: \"Voice message (coming soon)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 980,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 979,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 967,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 966,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                            type: \"button\",\n                                            size: \"icon\",\n                                            className: \"h-8 w-8\",\n                                            onClick: ()=>{\n                                                console.log(\"Send button clicked\");\n                                                sendMessage();\n                                            },\n                                            disabled: isSending || inputMessage.trim() === \"\" && files.length === 0,\n                                            children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"h-4 w-4 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 997,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 999,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 986,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 942,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 915,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 914,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                lineNumber: 736,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n        lineNumber: 696,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"MCEUpSZ3hrwH69t3iXvCoDfXKe4=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter,\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_11__.useToast\n    ];\n});\n_c1 = ChatPage;\nvar _c, _c1;\n$RefreshReg$(_c, \"MarkdownContent\");\n$RefreshReg$(_c1, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9haS9bYWdlbnRJZF0vY2hhdC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRW1EO0FBQ0c7QUFDRTtBQUNUO0FBQ0Y7QUFDK0I7QUFDcEI7QUFDMEM7QUFDMUM7QUFDNkQ7QUFDakU7QUFDeEI7QUFFb0I7QUFDTjtBQUNSO0FBQ21DO0FBQ0k7QUFnQ3pFLE1BQU1pQyxpQkFBaUI7SUFDckJDLEdBQUc7SUFDSEMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsTUFBTTtJQUNOQyxLQUFLO0lBQ0xDLFlBQVk7SUFDWkMsR0FBRztJQUNIQyxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsSUFBSTtJQUNKQyxJQUFJO0FBQ047QUFFQSxNQUFNQyxxQkFBaUM7SUFDckNsQixHQUFHO1lBQUMsRUFBRW1CLFFBQVEsRUFBRTs2QkFBSyw4REFBQ25CO1lBQUVvQixXQUFXckIsZUFBZUMsQ0FBQztzQkFBR21COzs7Ozs7O0lBQ3REbEIsSUFBSTtZQUFDLEVBQUVrQixRQUFRLEVBQUU7NkJBQUssOERBQUNsQjtZQUFHbUIsV0FBV3JCLGVBQWVFLEVBQUU7c0JBQUdrQjs7Ozs7OztJQUN6RGpCLElBQUk7WUFBQyxFQUFFaUIsUUFBUSxFQUFFOzZCQUFLLDhEQUFDakI7WUFBR2tCLFdBQVdyQixlQUFlRyxFQUFFO3NCQUFHaUI7Ozs7Ozs7SUFDekRoQixJQUFJO1lBQUMsRUFBRWdCLFFBQVEsRUFBRTs2QkFBSyw4REFBQ2hCO1lBQUdpQixXQUFXckIsZUFBZUksRUFBRTtzQkFBR2dCOzs7Ozs7O0lBQ3pEZixJQUFJO1lBQUMsRUFBRWUsUUFBUSxFQUFFOzZCQUFLLDhEQUFDZjtZQUFHZ0IsV0FBV3JCLGVBQWVLLEVBQUU7c0JBQUdlOzs7Ozs7O0lBQ3pE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QU1WMEMsQ0FBQUEsa0JBQUFBLDZCQUFBQSx1QkFBQUEsTUFBT3FLLFlBQVksY0FBbkJySywyQ0FBQUEscUJBQXFCc0ssUUFBUSxDQUFDLDJCQUM3Qiw4REFBQ2xPLG1FQUFlQTtzREFDZCw0RUFBQ0YsMkRBQU9BOztrRUFDTiw4REFBQ0csa0VBQWNBO3dEQUFDMk0sT0FBTztrRUFDckIsNEVBQUNyTix5REFBTUE7NERBQ0xzTCxNQUFLOzREQUNMc0MsTUFBSzs0REFDTGpHLFNBQVE7NERBQ1IzRSxXQUFVOzREQUNWOEssVUFBVTtzRUFFViw0RUFBQ2hOLDZKQUFPQTtnRUFBQ2tDLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7a0VBR3ZCLDhEQUFDeEMsa0VBQWNBO2tFQUNiLDRFQUFDb0I7Ozs7O3dFQXZQYkQ7Ozs7c0VBdVBlOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3NEQU1YLDhEQUFDM0IseURBQU1BOzRDQUNMc0wsTUFBSzs0Q0FDTHNDLE1BQUs7NENBQ0w1SyxXQUFVOzRDQUNWNkssU0FBUztnREFDUDFILFFBQVFDLEdBQUcsQ0FBQztnREFDWitDOzRDQUNGOzRDQUNBMkUsVUFBVTVJLGFBQWNKLGFBQWFzRSxJQUFJLE9BQU8sTUFBTTFELE1BQU1xQyxNQUFNLEtBQUs7c0RBRXRFN0MsMEJBQ0MsOERBQUNoRSw2SkFBV0E7Z0RBQUM4QixXQUFVOzs7OztxRUFFdkIsOERBQUNuQyw2SkFBUUE7Z0RBQUNtQyxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU3RDO0dBaDNCd0JtQjs7UUFDUHRFLHNEQUFTQTtRQUNUQyxzREFBU0E7UUFDTnFCLCtEQUFRQTs7O01BSEpnRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvYWkvW2FnZW50SWRdL2NoYXQvcGFnZS50c3g/MDBlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCJcbmltcG9ydCB7IEFwcFNoZWxsIH0gZnJvbSBcIkAvY29tcG9uZW50cy9sYXlvdXQvYXBwLXNoZWxsXCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiXG5pbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYXZhdGFyXCJcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCJcbmltcG9ydCB7IFRvb2x0aXAsIFRvb2x0aXBDb250ZW50LCBUb29sdGlwUHJvdmlkZXIsIFRvb2x0aXBUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b29sdGlwXCJcbmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhXCJcbmltcG9ydCB7IEFycm93TGVmdEljb24sIFNlbmRJY29uLCBNaWNJY29uLCBJbWFnZUljb24sIFBhcGVyY2xpcEljb24sIFJlZnJlc2hDd0ljb24sIExvYWRlcjJJY29uIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdXNlLXRvYXN0XCJcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIlxuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCJcbmltcG9ydCB7IGdldEJ1c2luZXNzSWQgfSBmcm9tIFwiQC9saWIvYXBpLWNsaWVudFwiXG5pbXBvcnQgUmVhY3RNYXJrZG93biBmcm9tICdyZWFjdC1tYXJrZG93bidcbmltcG9ydCByZW1hcmtHZm0gZnJvbSAncmVtYXJrLWdmbSdcbmltcG9ydCB7IFByaXNtIGFzIFN5bnRheEhpZ2hsaWdodGVyIH0gZnJvbSAncmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyJ1xuaW1wb3J0IHsgdG9tb3Jyb3cgfSBmcm9tICdyZWFjdC1zeW50YXgtaGlnaGxpZ2h0ZXIvZGlzdC9lc20vc3R5bGVzL3ByaXNtJ1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRzIH0gZnJvbSAncmVhY3QtbWFya2Rvd24nXG5cbmludGVyZmFjZSBBZ2VudCB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGF2YXRhcjogc3RyaW5nIHwgbnVsbFxuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbFxuICBjYXBhYmlsaXRpZXM6IHN0cmluZ1tdXG59XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZ1xuICBhaV9jb252ZXJzYXRpb25faWQ6IHN0cmluZ1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzeXN0ZW0nXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICBmaWxlcz86IHN0cmluZ1tdXG4gIGlzX3JlYWQ6IGJvb2xlYW5cbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIGxvYWRpbmc/OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBDb252ZXJzYXRpb24ge1xuICBpZDogc3RyaW5nXG4gIHRpdGxlOiBzdHJpbmdcbiAgYWlfYWdlbnRfaWQ6IHN0cmluZ1xuICB1c2VyX2lkOiBzdHJpbmdcbiAgYnVzaW5lc3NfaWQ6IHN0cmluZ1xuICBsYXN0X21lc3NhZ2VfYXQ6IHN0cmluZ1xuICBhaUFnZW50OiBBZ2VudFxufVxuXG5jb25zdCBtYXJrZG93blN0eWxlcyA9IHtcbiAgcDogJ21iLTQgbGVhZGluZy1yZWxheGVkJyxcbiAgaDE6ICd0ZXh0LTN4bCBmb250LWJvbGQgbWItNCcsXG4gIGgyOiAndGV4dC0yeGwgZm9udC1ib2xkIG1iLTMnLFxuICBoMzogJ3RleHQteGwgZm9udC1ib2xkIG1iLTInLFxuICBoNDogJ3RleHQtbGcgZm9udC1ib2xkIG1iLTInLFxuICBoNTogJ3RleHQtYmFzZSBmb250LWJvbGQgbWItMicsXG4gIGg2OiAndGV4dC1zbSBmb250LWJvbGQgbWItMicsXG4gIHVsOiAnbGlzdC1kaXNjIHBsLTYgbWItNCcsXG4gIG9sOiAnbGlzdC1kZWNpbWFsIHBsLTYgbWItNCcsXG4gIGxpOiAnbWItMScsXG4gIGNvZGU6ICdiZy1ncmF5LTEwMCByb3VuZGVkIHB4LTEgcHktMC41IGZvbnQtbW9ubyB0ZXh0LXNtJyxcbiAgcHJlOiAnYmctZ3JheS0xMDAgcm91bmRlZC1sZyBwLTQgbWItNCBvdmVyZmxvdy14LWF1dG8nLFxuICBibG9ja3F1b3RlOiAnYm9yZGVyLWwtNCBib3JkZXItZ3JheS0zMDAgcGwtNCBpdGFsaWMgbXktNCcsXG4gIGE6ICd0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZScsXG4gIHRhYmxlOiAnbWluLXctZnVsbCBib3JkZXItY29sbGFwc2UgbWItNCcsXG4gIHRoZWFkOiAnYmctZ3JheS0xMDAnLFxuICB0aDogJ2JvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtNCBweS0yIHRleHQtbGVmdCcsXG4gIHRkOiAnYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweC00IHB5LTInLFxufTtcblxuY29uc3QgbWFya2Rvd25Db21wb25lbnRzOiBDb21wb25lbnRzID0ge1xuICBwOiAoeyBjaGlsZHJlbiB9KSA9PiA8cCBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLnB9PntjaGlsZHJlbn08L3A+LFxuICBoMTogKHsgY2hpbGRyZW4gfSkgPT4gPGgxIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMuaDF9PntjaGlsZHJlbn08L2gxPixcbiAgaDI6ICh7IGNoaWxkcmVuIH0pID0+IDxoMiBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLmgyfT57Y2hpbGRyZW59PC9oMj4sXG4gIGgzOiAoeyBjaGlsZHJlbiB9KSA9PiA8aDMgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5oM30+e2NoaWxkcmVufTwvaDM+LFxuICBoNDogKHsgY2hpbGRyZW4gfSkgPT4gPGg0IGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMuaDR9PntjaGlsZHJlbn08L2g0PixcbiAgaDU6ICh7IGNoaWxkcmVuIH0pID0+IDxoNSBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLmg1fT57Y2hpbGRyZW59PC9oNT4sXG4gIGg2OiAoeyBjaGlsZHJlbiB9KSA9PiA8aDYgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5oNn0+e2NoaWxkcmVufTwvaDY+LFxuICB1bDogKHsgY2hpbGRyZW4gfSkgPT4gPHVsIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMudWx9PntjaGlsZHJlbn08L3VsPixcbiAgb2w6ICh7IGNoaWxkcmVuIH0pID0+IDxvbCBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLm9sfT57Y2hpbGRyZW59PC9vbD4sXG4gIGxpOiAoeyBjaGlsZHJlbiB9KSA9PiA8bGkgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5saX0+e2NoaWxkcmVufTwvbGk+LFxuICBjb2RlOiAoeyBub2RlLCBpbmxpbmUsIGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IC9sYW5ndWFnZS0oXFx3KykvLmV4ZWMoY2xhc3NOYW1lIHx8ICcnKTtcbiAgICByZXR1cm4gIWlubGluZSAmJiBtYXRjaCA/IChcbiAgICAgIDxTeW50YXhIaWdobGlnaHRlclxuICAgICAgICBzdHlsZT17dG9tb3Jyb3d9XG4gICAgICAgIGxhbmd1YWdlPXttYXRjaFsxXX1cbiAgICAgICAgUHJlVGFnPVwiZGl2XCJcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgPlxuICAgICAgICB7U3RyaW5nKGNoaWxkcmVuKS5yZXBsYWNlKC9cXG4kLywgJycpfVxuICAgICAgPC9TeW50YXhIaWdobGlnaHRlcj5cbiAgICApIDogKFxuICAgICAgPGNvZGUgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5jb2RlfSB7Li4ucHJvcHN9PlxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L2NvZGU+XG4gICAgKTtcbiAgfSxcbiAgcHJlOiAoeyBjaGlsZHJlbiB9KSA9PiA8cHJlIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMucHJlfT57Y2hpbGRyZW59PC9wcmU+LFxuICBibG9ja3F1b3RlOiAoeyBjaGlsZHJlbiB9KSA9PiAoXG4gICAgPGJsb2NrcXVvdGUgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5ibG9ja3F1b3RlfT57Y2hpbGRyZW59PC9ibG9ja3F1b3RlPlxuICApLFxuICBhOiAoeyBocmVmLCBjaGlsZHJlbiB9KSA9PiAoXG4gICAgPGEgaHJlZj17aHJlZn0gY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5hfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9hPlxuICApLFxuICB0YWJsZTogKHsgY2hpbGRyZW4gfSkgPT4gPHRhYmxlIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMudGFibGV9PntjaGlsZHJlbn08L3RhYmxlPixcbiAgdGhlYWQ6ICh7IGNoaWxkcmVuIH0pID0+IDx0aGVhZCBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLnRoZWFkfT57Y2hpbGRyZW59PC90aGVhZD4sXG4gIHRoOiAoeyBjaGlsZHJlbiB9KSA9PiA8dGggY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy50aH0+e2NoaWxkcmVufTwvdGg+LFxuICB0ZDogKHsgY2hpbGRyZW4gfSkgPT4gPHRkIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMudGR9PntjaGlsZHJlbn08L3RkPixcbn07XG5cbi8vIENvbXBvbmVudCB3cmFwcGVyIGNobyBSZWFjdE1hcmtkb3duXG5jb25zdCBNYXJrZG93bkNvbnRlbnQgPSAoeyBjb250ZW50IH06IHsgY29udGVudDogc3RyaW5nIH0pID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJtYXJrZG93bi1jb250ZW50XCI+XG4gICAgPFJlYWN0TWFya2Rvd24gXG4gICAgICByZW1hcmtQbHVnaW5zPXtbcmVtYXJrR2ZtXX1cbiAgICAgIGNvbXBvbmVudHM9e21hcmtkb3duQ29tcG9uZW50c31cbiAgICA+XG4gICAgICB7Y29udGVudH1cbiAgICA8L1JlYWN0TWFya2Rvd24+XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdFBhZ2UoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IHsgdG9hc3QgfSA9IHVzZVRvYXN0KClcbiAgXG4gIGNvbnN0IFthZ2VudCwgc2V0QWdlbnRdID0gdXNlU3RhdGU8QWdlbnQgfCBudWxsPihudWxsKVxuICBjb25zdCBbY29udmVyc2F0aW9uLCBzZXRDb252ZXJzYXRpb25dID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbaW5wdXRNZXNzYWdlLCBzZXRJbnB1dE1lc3NhZ2VdID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtpc1NlbmRpbmcsIHNldElzU2VuZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzTmV3Q29udmVyc2F0aW9uLCBzZXRJc05ld0NvbnZlcnNhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzTG9nZ2VkSW4sIHNldElzTG9nZ2VkSW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtidXNpbmVzc0lkLCBzZXRCdXNpbmVzc0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtmaWxlcywgc2V0RmlsZXNdID0gdXNlU3RhdGU8RmlsZVtdPihbXSlcbiAgXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbClcbiAgXG4gIGNvbnN0IGFnZW50SWQgPSBwYXJhbXM/LmFnZW50SWQgYXMgc3RyaW5nXG4gIGlmICghcGFyYW1zPy5hZ2VudElkKSB7XG4gICAgcmV0dXJuIDxkaXY+QWdlbnQgSUQga2jDtG5nIGjhu6NwIGzhu4c8L2Rpdj5cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgZm9yIGxvZ2luIGFuZCBnZXQgYnVzaW5lc3MgSURcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJylcbiAgICBzZXRJc0xvZ2dlZEluKCEhdG9rZW4pXG4gICAgXG4gICAgY29uc3QgY3VycmVudEJ1c2luZXNzSWQgPSBnZXRCdXNpbmVzc0lkKClcbiAgICBpZiAoY3VycmVudEJ1c2luZXNzSWQpIHtcbiAgICAgIHNldEJ1c2luZXNzSWQoY3VycmVudEJ1c2luZXNzSWQpXG4gICAgfVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvZ2dlZEluICYmIGJ1c2luZXNzSWQgJiYgYWdlbnRJZCkge1xuICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBhZ2VudCBkZXRhaWxzIGFuZCBjb252ZXJzYXRpb24gd2l0aDpcIiwge1xuICAgICAgICBpc0xvZ2dlZEluLFxuICAgICAgICBidXNpbmVzc0lkLFxuICAgICAgICBhZ2VudElkXG4gICAgICB9KTtcbiAgICAgIGZldGNoQWdlbnREZXRhaWxzKCk7XG4gICAgICBmZXRjaE9yQ3JlYXRlQ29udmVyc2F0aW9uKCk7XG4gICAgfVxuICB9LCBbaXNMb2dnZWRJbiwgYnVzaW5lc3NJZCwgYWdlbnRJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG1lc3NhZ2VzIGNoYW5nZVxuICAgIHNjcm9sbFRvQm90dG9tKClcbiAgfSwgW21lc3NhZ2VzXSlcblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pXG4gIH1cblxuICAvLyBEaXNhYmxlIGVzbGludCB3YXJuaW5nIGZvciBtaXNzaW5nIGRlcGVuZGVuY2llc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIGNvbnN0IGZldGNoQWdlbnREZXRhaWxzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJylcbiAgICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMS9hcGknXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiRmV0Y2hpbmcgYWdlbnQgZGV0YWlsczpcIiwge1xuICAgICAgICBhZ2VudElkLFxuICAgICAgICBhcGlVcmw6IGAke2FwaVVybH0vYWktYWdlbnRzLyR7YWdlbnRJZH1gXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L2FpLWFnZW50cy8ke2FnZW50SWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkFnZW50IGRldGFpbHMgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGFnZW50IGRldGFpbHMnKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBjb25zb2xlLmxvZyhcIkFnZW50IGRhdGEgcmVjZWl2ZWQ6XCIsIGRhdGEpO1xuICAgICAgc2V0QWdlbnQoZGF0YS5kYXRhKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhZ2VudCBkZXRhaWxzOicsIGVycm9yKVxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJGYWlsZWQgdG8gbG9hZCBBSSBhZ2VudC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZldGNoT3JDcmVhdGVDb252ZXJzYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKVxuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxL2FwaSdcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBleGlzdGluZyBjb252ZXJzYXRpb25zOlwiLCB7XG4gICAgICAgIGFnZW50SWQsXG4gICAgICAgIGJ1c2luZXNzSWQsXG4gICAgICAgIHVybDogYCR7YXBpVXJsfS9haS1jb252ZXJzYXRpb25zP2J1c2luZXNzX2lkPSR7YnVzaW5lc3NJZH1gXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGZpbmQgYW4gZXhpc3RpbmcgY29udmVyc2F0aW9uIHdpdGggdGhpcyBhZ2VudFxuICAgICAgY29uc3QgcmVzcG9uc2VFeGlzdGluZyA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vYWktY29udmVyc2F0aW9ucz9idXNpbmVzc19pZD0ke2J1c2luZXNzSWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkV4aXN0aW5nIGNvbnZlcnNhdGlvbnMgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZUV4aXN0aW5nLnN0YXR1cyk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2VFeGlzdGluZy5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb252ZXJzYXRpb25zJylcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gYXdhaXQgcmVzcG9uc2VFeGlzdGluZy5qc29uKClcbiAgICAgIGNvbnNvbGUubG9nKFwiRXhpc3RpbmcgY29udmVyc2F0aW9uczpcIiwgZXhpc3RpbmdEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gSWYgdGhlcmUncyBhbiBleGlzdGluZyBjb252ZXJzYXRpb24sIHVzZSBpdFxuICAgICAgaWYgKGV4aXN0aW5nRGF0YS5kYXRhICYmIGV4aXN0aW5nRGF0YS5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gTOG7jWMgY3Xhu5ljIHRyw7IgY2h1eeG7h24gduG7m2kgYWdlbnQgaGnhu4duIHThuqFpXG4gICAgICAgIGNvbnN0IGFnZW50Q29udmVyc2F0aW9ucyA9IGV4aXN0aW5nRGF0YS5kYXRhLmZpbHRlcihcbiAgICAgICAgICAoY29udjogYW55KSA9PiBjb252LmFpX2FnZW50X2lkID09PSBhZ2VudElkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWdlbnQgY29udmVyc2F0aW9uczpcIiwgYWdlbnRDb252ZXJzYXRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhZ2VudENvbnZlcnNhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNvbnYgPSBhZ2VudENvbnZlcnNhdGlvbnNbMF07IC8vIEzhuqV5IGN14buZYyB0csOyIGNodXnhu4duIGfhuqduIG5o4bqldFxuICAgICAgICAgIHNldENvbnZlcnNhdGlvbihjb252KVxuICAgICAgICAgIGF3YWl0IGZldGNoTWVzc2FnZXMoY29udi5pZClcbiAgICAgICAgICBzZXRJc05ld0NvbnZlcnNhdGlvbihmYWxzZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBLaMO0bmcgdMOsbSB0aOG6pXkgY3Xhu5ljIHRyw7IgY2h1eeG7h24gduG7m2kgYWdlbnQgbsOgeVxuICAgICAgICAgIHNldElzTmV3Q29udmVyc2F0aW9uKHRydWUpXG4gICAgICAgICAgc2V0TWVzc2FnZXMoW10pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgY29udmVyc2F0aW9uXG4gICAgICAgIHNldElzTmV3Q29udmVyc2F0aW9uKHRydWUpXG4gICAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZy9jcmVhdGluZyBjb252ZXJzYXRpb246JywgZXJyb3IpXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBsb2FkIGNvbnZlcnNhdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiXG4gICAgICB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZmV0Y2hNZXNzYWdlcyA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKVxuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxL2FwaSdcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBtZXNzYWdlcyBmb3IgY29udmVyc2F0aW9uOlwiLCBjb252ZXJzYXRpb25JZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9haS1jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIk1lc3NhZ2VzIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBtZXNzYWdlcycpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIGNvbnNvbGUubG9nKFwiTWVzc2FnZXMgZGF0YTpcIiwgZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIEFQSSBjw7MgdGjhu4MgdHLhuqMgduG7gSBj4bqldSB0csO6YyBraMOhYyBuaGF1XG4gICAgICBpZiAoZGF0YS5tZXNzYWdlcykge1xuICAgICAgICBzZXRNZXNzYWdlcyhkYXRhLm1lc3NhZ2VzKVxuICAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLm1lc3NhZ2VzKSB7XG4gICAgICAgIHNldE1lc3NhZ2VzKGRhdGEuZGF0YS5tZXNzYWdlcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIG1lc3NhZ2UgZGF0YSBzdHJ1Y3R1cmU6XCIsIGRhdGEpO1xuICAgICAgICBzZXRNZXNzYWdlcyhbXSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWVzc2FnZXM6JywgZXJyb3IpXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBsb2FkIG1lc3NhZ2VzLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCJcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY3JlYXRlTmV3Q29udmVyc2F0aW9uID0gYXN5bmMgKGluaXRpYWxNZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpXG4gICAgICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwMDEvYXBpJ1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG5ldyBjb252ZXJzYXRpb24gd2l0aDpcIiwge1xuICAgICAgICBhZ2VudElkLFxuICAgICAgICBidXNpbmVzc0lkLFxuICAgICAgICBpbml0aWFsTWVzc2FnZSxcbiAgICAgICAgYXBpVXJsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZnVsbFVybCA9IGAke2FwaVVybH0vYWktY29udmVyc2F0aW9uc2A7XG4gICAgICBjb25zb2xlLmxvZyhcIlBPU1QgcmVxdWVzdCB0bzpcIiwgZnVsbFVybCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZnVsbFVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhaV9hZ2VudF9pZDogYWdlbnRJZCxcbiAgICAgICAgICBidXNpbmVzc19pZDogYnVzaW5lc3NJZCxcbiAgICAgICAgICBpbml0aWFsX21lc3NhZ2U6IGluaXRpYWxNZXNzYWdlXG4gICAgICAgIH0pLFxuICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZSdcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRlIGNvbnZlcnNhdGlvbiByZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgY29udmVyc2F0aW9uOlwiLCBlcnJvclRleHQpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgY29udmVyc2F0aW9uJylcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgY29uc29sZS5sb2coXCJDb252ZXJzYXRpb24gY3JlYXRlZCBzdWNjZXNzZnVsbHk6XCIsIGRhdGEpO1xuICAgICAgXG4gICAgICBsZXQgY29udmVyc2F0aW9uRGF0YTtcbiAgICAgIGlmIChkYXRhLmRhdGEpIHtcbiAgICAgICAgY29udmVyc2F0aW9uRGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnZlcnNhdGlvbkRhdGEgPSBkYXRhO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRDb252ZXJzYXRpb24oY29udmVyc2F0aW9uRGF0YSk7XG4gICAgICBcbiAgICAgIGlmIChjb252ZXJzYXRpb25EYXRhLmlkKSB7XG4gICAgICAgIGF3YWl0IGZldGNoTWVzc2FnZXMoY29udmVyc2F0aW9uRGF0YS5pZCk7XG4gICAgICAgIHNldElzTmV3Q29udmVyc2F0aW9uKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnNhdGlvbkRhdGEuaWQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBjb252ZXJzYXRpb246JywgZXJyb3IpXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBjcmVhdGUgY29udmVyc2F0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCJcbiAgICAgIH0pXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaW5wdXRNZXNzYWdlLnRyaW0oKSAmJiBmaWxlcy5sZW5ndGggPT09IDApIHJldHVyblxuICAgIFxuICAgIHNldElzU2VuZGluZyh0cnVlKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJylcbiAgICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMS9hcGknXG4gICAgICBsZXQgY29udmVyc2F0aW9uSWQgPSBjb252ZXJzYXRpb24/LmlkXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgYSBjb252ZXJzYXRpb24gb3IgbmVlZCB0byBjcmVhdGUgb25lXG4gICAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgIGF3YWl0IGNyZWF0ZU5ld0NvbnZlcnNhdGlvbihpbnB1dE1lc3NhZ2UpXG4gICAgICAgIFxuICAgICAgICBpZiAoIWNvbnZlcnNhdGlvbklkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGNvbnZlcnNhdGlvbicpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlc2V0IGlucHV0IGFmdGVyIGNyZWF0aW5nIGNvbnZlcnNhdGlvblxuICAgICAgICBzZXRJbnB1dE1lc3NhZ2UoXCJcIilcbiAgICAgICAgc2V0RmlsZXMoW10pXG4gICAgICAgIHNldElzU2VuZGluZyhmYWxzZSlcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSB1c2VyIG1lc3NhZ2UgdG8gZGlzcGxheSBpbW1lZGlhdGVseVxuICAgICAgY29uc3QgdXNlck1lc3NhZ2U6IE1lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiBgdGVtcC0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgYWlfY29udmVyc2F0aW9uX2lkOiBjb252ZXJzYXRpb25JZCxcbiAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICBjb250ZW50OiBpbnB1dE1lc3NhZ2UsXG4gICAgICAgIGlzX3JlYWQ6IHRydWUsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgYXNzaXN0YW50IG1lc3NhZ2Ugd2l0aCBsb2FkaW5nIHN0YXRlXG4gICAgICBjb25zdCB0ZW1wQXNzaXN0YW50TWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGB0ZW1wLXJlc3BvbnNlLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBhaV9jb252ZXJzYXRpb25faWQ6IGNvbnZlcnNhdGlvbklkLFxuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgY29udGVudDogJycsXG4gICAgICAgIGlzX3JlYWQ6IGZhbHNlLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGxvYWRpbmc6IHRydWVcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWRkIHRlbXBvcmFyeSBtZXNzYWdlcyB0byB0aGUgVUlcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHVzZXJNZXNzYWdlLCB0ZW1wQXNzaXN0YW50TWVzc2FnZV0pXG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgZm9ybSBkYXRhIGZvciB0aGUgcmVxdWVzdFxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb250ZW50JywgaW5wdXRNZXNzYWdlKVxuICAgICAgXG4gICAgICAvLyBBZGQgZmlsZXMgaWYgYW55XG4gICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFkZGluZyBmaWxlcyB0byByZXF1ZXN0OlwiLCBmaWxlcy5sZW5ndGgpO1xuICAgICAgICBmaWxlcy5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZXNbXScsIGZpbGUpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGlucHV0IGFuZCBmaWxlc1xuICAgICAgc2V0SW5wdXRNZXNzYWdlKFwiXCIpXG4gICAgICBzZXRGaWxlcyhbXSlcbiAgICAgIFxuICAgICAgLy8gU3RlcCAxOiBGaXJzdCBzZW5kIHRoZSBtZXNzYWdlIHRvIHRoZSBzdHJlYW0tcHJlcGFyZSBlbmRwb2ludCB0byBnZXQgYSB0b2tlblxuICAgICAgY29uc3QgcHJlcGFyZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9haS1jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9L21lc3NhZ2VzL3N0cmVhbS1wcmVwYXJlYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgY29udGVudDogaW5wdXRNZXNzYWdlXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFwcmVwYXJlUmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gcHJlcGFyZSBzdHJlYW1pbmcgc2Vzc2lvbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBwcmVwYXJlRGF0YSA9IGF3YWl0IHByZXBhcmVSZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zdCBzdHJlYW1Ub2tlbiA9IHByZXBhcmVEYXRhLnN0cmVhbV90b2tlbjtcbiAgICAgIFxuICAgICAgaWYgKCFzdHJlYW1Ub2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHN0cmVhbSB0b2tlbiByZWNlaXZlZCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTdGVwIDI6IFVzZSB0aGUgc3RyZWFtIHRva2VuIHRvIGNvbm5lY3QgdG8gdGhlIHN0cmVhbWluZyBlbmRwb2ludFxuICAgICAgY29uc3Qgc3RyZWFtVXJsID0gYCR7YXBpVXJsfS9haS1kaXJlY3Qtc3RyZWFtLyR7c3RyZWFtVG9rZW59YDtcbiAgICAgIGNvbnNvbGUubG9nKFwiQ29ubmVjdGluZyB0byBzdHJlYW1pbmcgVVJMOlwiLCBzdHJlYW1VcmwpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgRXZlbnQgU291cmNlIGZvciBTU0UgKFNlcnZlci1TZW50IEV2ZW50cylcbiAgICAgIGNvbnN0IGV2ZW50U291cmNlID0gbmV3IEV2ZW50U291cmNlKHN0cmVhbVVybCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkV2ZW50U291cmNlIGNyZWF0ZWRcIik7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBjb25uZWN0aW9uIG9wZW5cbiAgICAgIGV2ZW50U291cmNlLm9ub3BlbiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50U291cmNlIGNvbm5lY3Rpb24gb3BlbmVkOlwiLCBldmVudCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICBsZXQgcmVhbFVzZXJNZXNzYWdlSWQgPSBwcmVwYXJlRGF0YS5tZXNzYWdlPy5pZCB8fCAnJztcbiAgICAgIGxldCByZWFsQXNzaXN0YW50TWVzc2FnZUlkID0gJyc7XG4gICAgICBcbiAgICAgIC8vIFNldCB0aGUgdXNlciBtZXNzYWdlIHdpdGggdGhlIGFjdHVhbCBJRCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgIGlmIChwcmVwYXJlRGF0YS5tZXNzYWdlKSB7XG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgIG1zZy5pZCA9PT0gdXNlck1lc3NhZ2UuaWQgPyB7Li4ucHJlcGFyZURhdGEubWVzc2FnZX0gOiBtc2dcbiAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBzdHJlYW0gZXZlbnRzXG4gICAgICBldmVudFNvdXJjZS5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdHJlYW0gZXZlbnQgcmVjZWl2ZWQ6XCIsIGV2ZW50LmRhdGEpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IFwiW0RPTkVdXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0cmVhbSBjb21wbGV0ZSwgY2xvc2luZyBjb25uZWN0aW9uXCIpO1xuICAgICAgICAgIGV2ZW50U291cmNlLmNsb3NlKCk7XG4gICAgICAgICAgLy8gQ+G6rXAgbmjhuq10IHRy4bqhbmcgdGjDoWkgbG9hZGluZyBraGkgaG/DoG4gdGjDoG5oXG4gICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4gXG4gICAgICAgICAgICBtc2cuaWQgPT09IHRlbXBBc3Npc3RhbnRNZXNzYWdlLmlkIFxuICAgICAgICAgICAgICA/IHsuLi5tc2csIGxvYWRpbmc6IGZhbHNlfSBcbiAgICAgICAgICAgICAgOiBtc2dcbiAgICAgICAgICApKTtcbiAgICAgICAgICBzZXRJc1NlbmRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhcnNlZCBzdHJlYW0gZGF0YTpcIiwgZGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSGFuZGxlIGRhdGEgZnJvbSBkaXJlY3Qgc3RyZWFtaW5nIGVuZHBvaW50XG4gICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2NodW5rJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUZXh0IGNodW5rIHJlY2VpdmVkOlwiLCBkYXRhLmNvbnRlbnQpO1xuICAgICAgICAgICAgLy8gSGnhu4NuIHRo4buLIG5nYXkgbOG6rXAgdOG7qWMgdOG7q25nIGNodW5rIHRleHRcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IHRlbXBBc3Npc3RhbnRNZXNzYWdlLmlkKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5tc2csXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1zZy5jb250ZW50ICsgZGF0YS5jb250ZW50XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRNZXNzYWdlcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgY29tcGxldGlvbiBldmVudCBmcm9tIEFzc2lzdGFudHMgQVBJXG4gICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdHJlYW1pbmcgY29tcGxldGUsIHdhaXRpbmcgZm9yIG1lc3NhZ2UgSURcIik7XG4gICAgICAgICAgICAvLyBXZSdsbCBrZWVwIHRoZSBtZXNzYWdlIGFzIGlzIHVudGlsIHdlIGdldCB0aGUgbWVzc2FnZV9zYXZlZCBldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgc2F2ZWQgbWVzc2FnZSB3aXRoIElEIGZyb20gdGhlIGJhY2tlbmRcbiAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnbWVzc2FnZV9zYXZlZCcgJiYgZGF0YS5tZXNzYWdlX2lkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1lc3NhZ2Ugc2F2ZWQgd2l0aCBJRDpcIiwgZGF0YS5tZXNzYWdlX2lkKTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvdXIgdGVtcG9yYXJ5IG1lc3NhZ2Ugd2l0aCB0aGUgcmVhbCBvbmUgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgICAgICBtc2cuaWQgPT09IHRlbXBBc3Npc3RhbnRNZXNzYWdlLmlkIFxuICAgICAgICAgICAgICAgID8gey4uLm1zZywgaWQ6IGRhdGEubWVzc2FnZV9pZCwgbG9hZGluZzogZmFsc2V9IFxuICAgICAgICAgICAgICAgIDogbXNnXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEhhbmRsZSBlcnJvciBldmVudFxuICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWNlaXZlZDpcIiwgZGF0YS5tZXNzYWdlIHx8IGRhdGEuZXJyb3IpO1xuICAgICAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5tZXNzYWdlIHx8IGRhdGEuZXJyb3IgfHwgXCJBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwcm9jZXNzaW5nIHlvdXIgbWVzc2FnZS5cIixcbiAgICAgICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBhc3Npc3RhbnQgbWVzc2FnZSB0byBzaG93IGVycm9yXG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICAgICAgbXNnLmlkID09PSB0ZW1wQXNzaXN0YW50TWVzc2FnZS5pZCBcbiAgICAgICAgICAgICAgICA/IHsuLi5tc2csIGNvbnRlbnQ6IGRhdGEubWVzc2FnZSB8fCBcIlhpbiBs4buXaSwgxJHDoyB44bqjeSByYSBs4buXaSBraGkgeOG7rSBsw70gdGluIG5o4bqvbi5cIiwgbG9hZGluZzogZmFsc2V9IFxuICAgICAgICAgICAgICAgIDogbXNnXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcHJvY2Vzc2luZyBzdHJlYW0gZXZlbnQ6XCIsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBcbiAgICAgIGV2ZW50U291cmNlLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkV2ZW50U291cmNlIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZXJyb3IgaXMgZHVlIHRvIHRoZSB1c2VyIG5vdCBiZWluZyBhdXRoZW50aWNhdGVkXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEV2ZW50ICYmIChlcnJvciBhcyBhbnkpLnRhcmdldD8ucmVhZHlTdGF0ZSA9PT0gRXZlbnRTb3VyY2UuQ0xPU0VEKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkV2ZW50U291cmNlIGNvbm5lY3Rpb24gY2xvc2VkXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBldmVudFNvdXJjZS5jbG9zZSgpO1xuICAgICAgICBzZXRJc1NlbmRpbmcoZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgdG9hc3Qoe1xuICAgICAgICAgIHRpdGxlOiBcIkNvbm5lY3Rpb24gRXJyb3JcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb3VsZCBub3QgZXN0YWJsaXNoIHN0cmVhbWluZyBjb25uZWN0aW9uLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIlxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgYXNzaXN0YW50IG1lc3NhZ2UgdG8gc2hvdyBlcnJvclxuICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICBtc2cuaWQgPT09IHRlbXBBc3Npc3RhbnRNZXNzYWdlLmlkIFxuICAgICAgICAgICAgPyB7Li4ubXNnLCBjb250ZW50OiBcIktow7RuZyB0aOG7gyBr4bq/dCBu4buRaSB04bubaSBtw6F5IGNo4bunLiBWdWkgbMOybmcgdGjhu60gbOG6oWkgc2F1IGhv4bq3YyDEkcSDbmcgbmjhuq1wIGzhuqFpLlwiLCBsb2FkaW5nOiBmYWxzZX0gXG4gICAgICAgICAgICA6IG1zZ1xuICAgICAgICApKTtcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcilcbiAgICAgIHNldElzU2VuZGluZyhmYWxzZSlcbiAgICAgIFxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJGYWlsZWQgdG8gc2VuZCBtZXNzYWdlLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCJcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJLZXkgZG93biBldmVudDpcIiwgZS5rZXkpO1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBjb25zb2xlLmxvZyhcIkVudGVyIGtleSBwcmVzc2VkICh3aXRob3V0IHNoaWZ0KVwiKVxuICAgICAgc2VuZE1lc3NhZ2UoKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUZpbGVDbGljayA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkZpbGUgYnV0dG9uIGNsaWNrZWRcIik7XG4gICAgZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKClcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkZpbGUgaW5wdXQgY2hhbmdlZFwiKTtcbiAgICBpZiAoZS50YXJnZXQuZmlsZXMpIHtcbiAgICAgIGNvbnN0IG5ld0ZpbGVzID0gQXJyYXkuZnJvbShlLnRhcmdldC5maWxlcylcbiAgICAgIGNvbnNvbGUubG9nKFwiU2VsZWN0ZWQgZmlsZXM6XCIsIG5ld0ZpbGVzLm1hcChmID0+IGYubmFtZSkpO1xuICAgICAgc2V0RmlsZXMocHJldiA9PiBbLi4ucHJldiwgLi4ubmV3RmlsZXNdKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlbW92ZUZpbGUgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiUmVtb3ZpbmcgZmlsZSBhdCBpbmRleDpcIiwgaW5kZXgpO1xuICAgIHNldEZpbGVzKHByZXYgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSlcbiAgfVxuXG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAoZGF0ZVN0cmluZzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpXG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6ICcyLWRpZ2l0JywgbWludXRlOiAnMi1kaWdpdCcgfSlcbiAgfVxuXG4gIGlmICghaXNMb2dnZWRJbikge1xuICAgIHJldHVybiAoXG4gICAgICA8QXBwU2hlbGw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHktNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC04IGJnLXllbGxvdy01MCBib3JkZXIgYm9yZGVyLXllbGxvdy0zMDAgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0yXCI+QuG6oW4gY+G6p24gxJHEg25nIG5o4bqtcCB0csaw4bubYzwvaDM+XG4gICAgICAgICAgICA8cD5WdWkgbMOybmcgPGEgaHJlZj1cIi9sb2dpblwiIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lXCI+xJHEg25nIG5o4bqtcDwvYT4gxJHhu4Mgc+G7rSBk4bulbmcgdMOtbmggbsSDbmcgbsOgeS48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcHBTaGVsbD5cbiAgICApXG4gIH1cblxuICBpZiAoIWJ1c2luZXNzSWQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEFwcFNoZWxsPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB5LTZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtOCBiZy15ZWxsb3ctNTAgYm9yZGVyIGJvcmRlci15ZWxsb3ctMzAwIHJvdW5kZWQtbWRcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbWItMlwiPkNo4buNbiBkb2FuaCBuZ2hp4buHcDwvaDM+XG4gICAgICAgICAgICA8cD5WdWkgbMOybmcgY2jhu41uIG3hu5l0IGRvYW5oIG5naGnhu4dwIMSR4buDIGNoYXQgduG7m2kgQUkgQWdlbnQuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQXBwU2hlbGw+XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QXBwU2hlbGw+XG4gICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxuICAgICAgICAudHlwaW5nLWluZGljYXRvciB7XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAudHlwaW5nLWluZGljYXRvciBzcGFuIHtcbiAgICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IGN1cnJlbnRDb2xvcjtcbiAgICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgIG1hcmdpbjogMCAycHg7XG4gICAgICAgICAgYW5pbWF0aW9uOiBib3VuY2UgMS41cyBpbmZpbml0ZSBlYXNlLWluLW91dDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnR5cGluZy1pbmRpY2F0b3Igc3BhbjpudGgtY2hpbGQoMSkge1xuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogMHM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDIpIHtcbiAgICAgICAgICBhbmltYXRpb24tZGVsYXk6IDAuMnM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDMpIHtcbiAgICAgICAgICBhbmltYXRpb24tZGVsYXk6IDAuNHM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIEBrZXlmcmFtZXMgYm91bmNlIHtcbiAgICAgICAgICAwJSwgNjAlLCAxMDAlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgMzAlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNHB4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJHttYXJrZG93blN0eWxlc31cbiAgICAgIGB9PC9zdHlsZT5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtW2NhbGMoMTAwdmgtNHJlbSldXCI+XG4gICAgICAgIHsvKiBDaGF0IGhlYWRlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItYiBwLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBjbGFzc05hbWU9XCJtci0xIHAtMiBoLTkgdy05XCIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9haVwiPlxuICAgICAgICAgICAgICAgIDxBcnJvd0xlZnRJY29uIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJoLTkgdy05XCI+XG4gICAgICAgICAgICAgIHthZ2VudD8uYXZhdGFyID8gKFxuICAgICAgICAgICAgICAgIDxBdmF0YXJJbWFnZSBcbiAgICAgICAgICAgICAgICAgIHNyYz17YWdlbnQuYXZhdGFyLnN0YXJ0c1dpdGgoJ2h0dHAnKSBcbiAgICAgICAgICAgICAgICAgICAgPyBhZ2VudC5hdmF0YXIgXG4gICAgICAgICAgICAgICAgICAgIDogYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTD8ucmVwbGFjZSgnL2FwaScsICcnKX0vc3RvcmFnZS8ke2FnZW50LmF2YXRhcn1gfVxuICAgICAgICAgICAgICAgICAgYWx0PXthZ2VudD8ubmFtZSB8fCAnQUkgQWdlbnQnfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPEF2YXRhckZhbGxiYWNrPnthZ2VudD8ubmFtZT8uc3Vic3RyaW5nKDAsIDIpLnRvVXBwZXJDYXNlKCkgfHwgJ0FJJ308L0F2YXRhckZhbGxiYWNrPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9BdmF0YXI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtc21cIj57YWdlbnQ/Lm5hbWUgfHwgJ0FJIEFnZW50J308L2gyPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgIHtjb252ZXJzYXRpb24/LnRpdGxlIHx8ICdOZXcgY29udmVyc2F0aW9uJ31cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIERlYnVnIGluZm8gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgPHA+QVBJOiB7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnTm90IHNldCd9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxUb29sdGlwUHJvdmlkZXI+XG4gICAgICAgICAgICA8VG9vbHRpcD5cbiAgICAgICAgICAgICAgPFRvb2x0aXBUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiIFxuICAgICAgICAgICAgICAgICAgc2l6ZT1cImljb25cIiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2ZldGNoT3JDcmVhdGVDb252ZXJzYXRpb259XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3dJY29uIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgICA8VG9vbHRpcENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPHA+U3RhcnQgbmV3IGNvbnZlcnNhdGlvbjwvcD5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwQ29udGVudD5cbiAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICA8L1Rvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogQ2hhdCBtZXNzYWdlcyAqL31cbiAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPVwiZmxleC0xIHAtNFwiPlxuICAgICAgICAgIHtpc0xvYWRpbmcgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICAgICAgICA8TG9hZGVyMkljb24gY2xhc3NOYW1lPVwiaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBtZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIGgtZnVsbCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXByaW1hcnkvMTAgcC00IHJvdW5kZWQtZnVsbCBtYi00XCI+XG4gICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJoLTEyIHctMTJcIj5cbiAgICAgICAgICAgICAgICAgIHthZ2VudD8uYXZhdGFyID8gKFxuICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2UgXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXthZ2VudC5hdmF0YXIuc3RhcnRzV2l0aCgnaHR0cCcpIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhZ2VudC5hdmF0YXIgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkw/LnJlcGxhY2UoJy9hcGknLCAnJyl9L3N0b3JhZ2UvJHthZ2VudC5hdmF0YXJ9YH1cbiAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2FnZW50Py5uYW1lIHx8ICdBSSBBZ2VudCd9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e2FnZW50Py5uYW1lPy5zdWJzdHJpbmcoMCwgMikudG9VcHBlckNhc2UoKSB8fCAnQUknfTwvQXZhdGFyRmFsbGJhY2s+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQXZhdGFyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gbWItMlwiPlN0YXJ0IGNoYXR0aW5nIHdpdGgge2FnZW50Py5uYW1lfTwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtYXgtdy1tZCBtYi02XCI+XG4gICAgICAgICAgICAgICAge2FnZW50Py5kZXNjcmlwdGlvbiB8fCAnQXNrIGFueSBxdWVzdGlvbnMgb3Igc3RhcnQgYSBjb252ZXJzYXRpb24uJ31cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHBiLTRcIj5cbiAgICAgICAgICAgICAge21lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSAhPT0gJ3N5c3RlbScpLm1hcCgobWVzc2FnZSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWR9IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCAke21lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBnYXAtMyBtYXgtdy1bODAlXSAke21lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ2ZsZXgtcm93LXJldmVyc2UnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwiaC04IHctOCBmbGV4LXNocmluay0wIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+TWU8L0F2YXRhckZhbGxiYWNrPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBhZ2VudD8uYXZhdGFyID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2FnZW50LmF2YXRhci5zdGFydHNXaXRoKCdodHRwJykgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhZ2VudC5hdmF0YXIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMPy5yZXBsYWNlKCcvYXBpJywgJycpfS9zdG9yYWdlLyR7YWdlbnQuYXZhdGFyfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YWdlbnQ/Lm5hbWUgfHwgJ0FJJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjaz57YWdlbnQ/Lm5hbWU/LnN1YnN0cmluZygwLCAyKS50b1VwcGVyQ2FzZSgpIHx8ICdBSSd9PC9BdmF0YXJGYWxsYmFjaz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L0F2YXRhcj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPXtgJHttZXNzYWdlLnJvbGUgPT09ICd1c2VyJyA/ICdiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kJyA6ICdiZy1tdXRlZCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNYXJrZG93bkNvbnRlbnQgY29udGVudD17bWVzc2FnZS5jb250ZW50fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0xIGZsZXhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0eXBpbmctaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1hcmtkb3duQ29udGVudCBjb250ZW50PXttZXNzYWdlLmNvbnRlbnR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRGlzcGxheSBmaWxlcyBpZiBhbnkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmZpbGVzICYmIG1lc3NhZ2UuZmlsZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIGdyaWQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmZpbGVzLm1hcCgoZmlsZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17ZmlsZX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0yIHJvdW5kZWQgYmctYmFja2dyb3VuZC81MCBob3ZlcjpiZy1iYWNrZ3JvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlcmNsaXBJY29uIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmaWxlLnNwbGl0KCcvJykucG9wKCkgfHwgJ0ZpbGUnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTEgJHttZXNzYWdlLnJvbGUgPT09ICd1c2VyJyA/ICd0ZXh0LXJpZ2h0JyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFRpbWUobWVzc2FnZS5jcmVhdGVkX2F0KX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvU2Nyb2xsQXJlYT5cbiAgICAgICAgXG4gICAgICAgIHsvKiBTZWxlY3RlZCBmaWxlcyAqL31cbiAgICAgICAge2ZpbGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBwdC0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgIHtmaWxlcy5tYXAoKGZpbGUsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBiZy1tdXRlZCBwLTEgcm91bmRlZCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZSBtYXgtdy1bMTAwcHhdXCI+e2ZpbGUubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIiBcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImljb25cIiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00IHctNCByb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVGaWxlKGluZGV4KX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+w5c8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBNZXNzYWdlIGlucHV0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IHAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleFwiPlxuICAgICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiIFxuICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogRGVidWcgc3RhdHVzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCByaWdodC0wIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXktZnVsbCBiZy1ncmF5LTEwMCBwLTEgcm91bmRlZCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIDxwPmlzU2VuZGluZzoge2lzU2VuZGluZyA/ICd0cnVlJyA6ICdmYWxzZSd9PC9wPlxuICAgICAgICAgICAgICA8cD5pc0xvYWRpbmc6IHtpc0xvYWRpbmcgPyAndHJ1ZScgOiAnZmFsc2UnfTwvcD5cbiAgICAgICAgICAgICAgPHA+aXNFbXB0eToge2lucHV0TWVzc2FnZS50cmltKCkgPT09ICcnID8gJ3RydWUnIDogJ2ZhbHNlJ308L3A+XG4gICAgICAgICAgICAgIDxwPmhhc0ZpbGVzOiB7ZmlsZXMubGVuZ3RoID4gMCA/ICd0cnVlJyA6ICdmYWxzZSd9PC9wPlxuICAgICAgICAgICAgICA8cD5idXR0b25EaXNhYmxlZDoge2lzU2VuZGluZyB8fCAoaW5wdXRNZXNzYWdlLnRyaW0oKSA9PT0gJycgJiYgZmlsZXMubGVuZ3RoID09PSAwKSA/ICd0cnVlJyA6ICdmYWxzZSd9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgYSBtZXNzYWdlLi4uXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2lucHV0TWVzc2FnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmcgfHwgaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwci0yNFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTEgdG9wLTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAge2FnZW50Py5jYXBhYmlsaXRpZXM/LmluY2x1ZGVzKCdpbWFnZV91cGxvYWQnKSAmJiAoXG4gICAgICAgICAgICAgICAgPFRvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgICAgICAgICAgIDxUb29sdGlwPlxuICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcFRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImljb25cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC04IHctOFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVGaWxlQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZW5kaW5nfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZUljb24gY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDxUb29sdGlwQ29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8cD5VcGxvYWQgaW1hZ2VzPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXBDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgIDwvVG9vbHRpcFByb3ZpZGVyPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAge2FnZW50Py5jYXBhYmlsaXRpZXM/LmluY2x1ZGVzKCd2b2ljZScpICYmIChcbiAgICAgICAgICAgICAgICA8VG9vbHRpcFByb3ZpZGVyPlxuICAgICAgICAgICAgICAgICAgPFRvb2x0aXA+XG4gICAgICAgICAgICAgICAgICAgIDxUb29sdGlwVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwiaWNvblwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTggdy04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfSAvLyBWb2ljZSBmZWF0dXJlIG5vdCB5ZXQgaW1wbGVtZW50ZWRcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TWljSWNvbiBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFRvb2x0aXBDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDxwPlZvaWNlIG1lc3NhZ2UgKGNvbWluZyBzb29uKTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgIHNpemU9XCJpY29uXCIgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC04IHctOFwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZW5kIGJ1dHRvbiBjbGlja2VkXCIpO1xuICAgICAgICAgICAgICAgICAgc2VuZE1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmcgfHwgKGlucHV0TWVzc2FnZS50cmltKCkgPT09ICcnICYmIGZpbGVzLmxlbmd0aCA9PT0gMCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNTZW5kaW5nID8gKFxuICAgICAgICAgICAgICAgICAgPExvYWRlcjJJY29uIGNsYXNzTmFtZT1cImgtNCB3LTQgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPFNlbmRJY29uIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9BcHBTaGVsbD5cbiAgKVxufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VQYXJhbXMiLCJ1c2VSb3V0ZXIiLCJBcHBTaGVsbCIsIkJ1dHRvbiIsIklucHV0IiwiQXZhdGFyIiwiQXZhdGFyRmFsbGJhY2siLCJBdmF0YXJJbWFnZSIsIkNhcmQiLCJDYXJkQ29udGVudCIsIlRvb2x0aXAiLCJUb29sdGlwQ29udGVudCIsIlRvb2x0aXBQcm92aWRlciIsIlRvb2x0aXBUcmlnZ2VyIiwiU2Nyb2xsQXJlYSIsIkFycm93TGVmdEljb24iLCJTZW5kSWNvbiIsIk1pY0ljb24iLCJJbWFnZUljb24iLCJQYXBlcmNsaXBJY29uIiwiUmVmcmVzaEN3SWNvbiIsIkxvYWRlcjJJY29uIiwidXNlVG9hc3QiLCJMaW5rIiwiZ2V0QnVzaW5lc3NJZCIsIlJlYWN0TWFya2Rvd24iLCJyZW1hcmtHZm0iLCJQcmlzbSIsIlN5bnRheEhpZ2hsaWdodGVyIiwidG9tb3Jyb3ciLCJtYXJrZG93blN0eWxlcyIsInAiLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJ1bCIsIm9sIiwibGkiLCJjb2RlIiwicHJlIiwiYmxvY2txdW90ZSIsImEiLCJ0YWJsZSIsInRoZWFkIiwidGgiLCJ0ZCIsIm1hcmtkb3duQ29tcG9uZW50cyIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwibm9kZSIsImlubGluZSIsInByb3BzIiwibWF0Y2giLCJleGVjIiwic3R5bGUiLCJsYW5ndWFnZSIsIlByZVRhZyIsIlN0cmluZyIsInJlcGxhY2UiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwiTWFya2Rvd25Db250ZW50IiwiY29udGVudCIsImRpdiIsInJlbWFya1BsdWdpbnMiLCJjb21wb25lbnRzIiwiQ2hhdFBhZ2UiLCJwcm9jZXNzIiwiYWdlbnQiLCJwYXJhbXMiLCJyb3V0ZXIiLCJ0b2FzdCIsInNldEFnZW50IiwiY29udmVyc2F0aW9uIiwic2V0Q29udmVyc2F0aW9uIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlucHV0TWVzc2FnZSIsInNldElucHV0TWVzc2FnZSIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImlzU2VuZGluZyIsInNldElzU2VuZGluZyIsImlzTmV3Q29udmVyc2F0aW9uIiwic2V0SXNOZXdDb252ZXJzYXRpb24iLCJpc0xvZ2dlZEluIiwic2V0SXNMb2dnZWRJbiIsImJ1c2luZXNzSWQiLCJzZXRCdXNpbmVzc0lkIiwiZmlsZXMiLCJzZXRGaWxlcyIsIm1lc3NhZ2VzRW5kUmVmIiwiZmlsZUlucHV0UmVmIiwiYWdlbnRJZCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImN1cnJlbnRCdXNpbmVzc0lkIiwiY29uc29sZSIsImxvZyIsImZldGNoQWdlbnREZXRhaWxzIiwiZmV0Y2hPckNyZWF0ZUNvbnZlcnNhdGlvbiIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJhcGlVcmwiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJtb2RlIiwiY3JlZGVudGlhbHMiLCJzdGF0dXMiLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJlcnJvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwidXJsIiwicmVzcG9uc2VFeGlzdGluZyIsImV4aXN0aW5nRGF0YSIsImxlbmd0aCIsImFnZW50Q29udmVyc2F0aW9ucyIsImZpbHRlciIsImNvbnYiLCJhaV9hZ2VudF9pZCIsImZldGNoTWVzc2FnZXMiLCJpZCIsImNvbnZlcnNhdGlvbklkIiwiY3JlYXRlTmV3Q29udmVyc2F0aW9uIiwiaW5pdGlhbE1lc3NhZ2UiLCJmdWxsVXJsIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJidXNpbmVzc19pZCIsImluaXRpYWxfbWVzc2FnZSIsImVycm9yVGV4dCIsInRleHQiLCJjb252ZXJzYXRpb25EYXRhIiwic2VuZE1lc3NhZ2UiLCJ0cmltIiwicHJlcGFyZURhdGEiLCJ1c2VyTWVzc2FnZSIsIkRhdGUiLCJub3ciLCJhaV9jb252ZXJzYXRpb25faWQiLCJyb2xlIiwiaXNfcmVhZCIsImNyZWF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInRlbXBBc3Npc3RhbnRNZXNzYWdlIiwibG9hZGluZyIsInByZXYiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiZm9yRWFjaCIsImZpbGUiLCJwcmVwYXJlUmVzcG9uc2UiLCJzdHJlYW1Ub2tlbiIsInN0cmVhbV90b2tlbiIsInN0cmVhbVVybCIsImV2ZW50U291cmNlIiwiRXZlbnRTb3VyY2UiLCJvbm9wZW4iLCJldmVudCIsInJlYWxVc2VyTWVzc2FnZUlkIiwibWVzc2FnZSIsInJlYWxBc3Npc3RhbnRNZXNzYWdlSWQiLCJtYXAiLCJtc2ciLCJvbm1lc3NhZ2UiLCJjbG9zZSIsInBhcnNlIiwidHlwZSIsInVwZGF0ZWRNZXNzYWdlcyIsIm1lc3NhZ2VfaWQiLCJlcnIiLCJvbmVycm9yIiwiRXZlbnQiLCJyZWFkeVN0YXRlIiwiQ0xPU0VEIiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJzaGlmdEtleSIsInByZXZlbnREZWZhdWx0IiwiaGFuZGxlRmlsZUNsaWNrIiwiY2xpY2siLCJoYW5kbGVGaWxlQ2hhbmdlIiwibmV3RmlsZXMiLCJBcnJheSIsImZyb20iLCJmIiwibmFtZSIsInJlbW92ZUZpbGUiLCJpbmRleCIsIl8iLCJpIiwiZm9ybWF0VGltZSIsImRhdGVTdHJpbmciLCJkYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImFzQ2hpbGQiLCJhdmF0YXIiLCJzcmMiLCJzdGFydHNXaXRoIiwiYWx0Iiwic3Vic3RyaW5nIiwidG9VcHBlckNhc2UiLCJzaXplIiwib25DbGljayIsImRpc2FibGVkIiwibSIsInNwYW4iLCJzcGxpdCIsInBvcCIsInJlZiIsImlucHV0Iiwib25DaGFuZ2UiLCJtdWx0aXBsZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbktleURvd24iLCJjYXBhYmlsaXRpZXMiLCJpbmNsdWRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/ai/[agentId]/chat/page.tsx\n"));

/***/ })

});