"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/ai/[agentId]/chat/page",{

/***/ "(app-pages-browser)/./app/ai/[agentId]/chat/page.tsx":
/*!****************************************!*\
  !*** ./app/ai/[agentId]/chat/page.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"(app-pages-browser)/./node_modules/styled-jsx/style.js\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/layout/app-shell */ \"(app-pages-browser)/./components/layout/app-shell.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/avatar */ \"(app-pages-browser)/./components/ui/avatar.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/tooltip */ \"(app-pages-browser)/./components/ui/tooltip.tsx\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(app-pages-browser)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/mic.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeftIcon,ImageIcon,Loader2Icon,MicIcon,PaperclipIcon,RefreshCwIcon,SendIcon!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/ui/use-toast */ \"(app-pages-browser)/./components/ui/use-toast.tsx\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _lib_api_client__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/api-client */ \"(app-pages-browser)/./lib/api-client.ts\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! react-markdown */ \"(app-pages-browser)/./node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! remark-gfm */ \"(app-pages-browser)/./node_modules/remark-gfm/lib/index.js\");\n/* harmony import */ var react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-syntax-highlighter */ \"(app-pages-browser)/./node_modules/react-syntax-highlighter/dist/esm/prism.js\");\n/* harmony import */ var react_syntax_highlighter_dist_esm_styles_prism__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-syntax-highlighter/dist/esm/styles/prism */ \"(app-pages-browser)/./node_modules/react-syntax-highlighter/dist/esm/styles/prism/tomorrow.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst markdownStyles = {\n    p: \"mb-4 leading-relaxed\",\n    h1: \"text-3xl font-bold mb-4\",\n    h2: \"text-2xl font-bold mb-3\",\n    h3: \"text-xl font-bold mb-2\",\n    h4: \"text-lg font-bold mb-2\",\n    h5: \"text-base font-bold mb-2\",\n    h6: \"text-sm font-bold mb-2\",\n    ul: \"list-disc pl-6 mb-4\",\n    ol: \"list-decimal pl-6 mb-4\",\n    li: \"mb-1\",\n    code: \"bg-gray-100 rounded px-1 py-0.5 font-mono text-sm\",\n    pre: \"bg-gray-100 rounded-lg p-4 mb-4 overflow-x-auto\",\n    blockquote: \"border-l-4 border-gray-300 pl-4 italic my-4\",\n    a: \"text-blue-600 hover:underline\",\n    table: \"min-w-full border-collapse mb-4\",\n    thead: \"bg-gray-100\",\n    th: \"border border-gray-300 px-4 py-2 text-left\",\n    td: \"border border-gray-300 px-4 py-2\"\n};\nconst markdownComponents = {\n    p: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n            className: markdownStyles.p,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 82,\n            columnNumber: 24\n        }, undefined);\n    },\n    h1: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n            className: markdownStyles.h1,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 83,\n            columnNumber: 25\n        }, undefined);\n    },\n    h2: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n            className: markdownStyles.h2,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 84,\n            columnNumber: 25\n        }, undefined);\n    },\n    h3: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n            className: markdownStyles.h3,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 85,\n            columnNumber: 25\n        }, undefined);\n    },\n    h4: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n            className: markdownStyles.h4,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 86,\n            columnNumber: 25\n        }, undefined);\n    },\n    h5: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n            className: markdownStyles.h5,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 87,\n            columnNumber: 25\n        }, undefined);\n    },\n    h6: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h6\", {\n            className: markdownStyles.h6,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 88,\n            columnNumber: 25\n        }, undefined);\n    },\n    ul: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n            className: markdownStyles.ul,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 89,\n            columnNumber: 25\n        }, undefined);\n    },\n    ol: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n            className: markdownStyles.ol,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 90,\n            columnNumber: 25\n        }, undefined);\n    },\n    li: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n            className: markdownStyles.li,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 91,\n            columnNumber: 25\n        }, undefined);\n    },\n    code: (param)=>{\n        let { node, inline, className, children, ...props } = param;\n        const match = /language-(\\w+)/.exec(className || \"\");\n        return !inline && match ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n            style: react_syntax_highlighter_dist_esm_styles_prism__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n            language: match[1],\n            PreTag: \"div\",\n            ...props,\n            children: String(children).replace(/\\n$/, \"\")\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 95,\n            columnNumber: 7\n        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n            className: markdownStyles.code,\n            ...props,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 104,\n            columnNumber: 7\n        }, undefined);\n    },\n    pre: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n            className: markdownStyles.pre,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 109,\n            columnNumber: 26\n        }, undefined);\n    },\n    blockquote: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"blockquote\", {\n            className: markdownStyles.blockquote,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 111,\n            columnNumber: 5\n        }, undefined);\n    },\n    a: (param)=>{\n        let { href, children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n            href: href,\n            className: markdownStyles.a,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 114,\n            columnNumber: 5\n        }, undefined);\n    },\n    table: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n            className: markdownStyles.table,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 118,\n            columnNumber: 28\n        }, undefined);\n    },\n    thead: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n            className: markdownStyles.thead,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 119,\n            columnNumber: 28\n        }, undefined);\n    },\n    th: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n            className: markdownStyles.th,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 120,\n            columnNumber: 25\n        }, undefined);\n    },\n    td: (param)=>{\n        let { children } = param;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n            className: markdownStyles.td,\n            children: children\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 121,\n            columnNumber: 25\n        }, undefined);\n    }\n};\n// Component wrapper cho ReactMarkdown\nconst MarkdownContent = (param)=>{\n    let { content } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"markdown-content\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_markdown__WEBPACK_IMPORTED_MODULE_16__.Markdown, {\n            remarkPlugins: [\n                remark_gfm__WEBPACK_IMPORTED_MODULE_17__[\"default\"]\n            ],\n            components: markdownComponents,\n            children: content\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 127,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n        lineNumber: 126,\n        columnNumber: 3\n    }, undefined);\n};\n_c = MarkdownContent;\nfunction ChatPage() {\n    var _process_env_NEXT_PUBLIC_API_URL, _agent_name, _process_env_NEXT_PUBLIC_API_URL1, _agent_name1, _agent_capabilities, _agent_capabilities1;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const { toast } = (0,_components_ui_use_toast__WEBPACK_IMPORTED_MODULE_11__.useToast)();\n    const [agent, setAgent] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [conversation, setConversation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [inputMessage, setInputMessage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [isSending, setIsSending] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isNewConversation, setIsNewConversation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isLoggedIn, setIsLoggedIn] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [businessId, setBusinessId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const agentId = params === null || params === void 0 ? void 0 : params.agentId;\n    // Get conversationId from query params if it exists\n    const searchParams = new URLSearchParams(window.location.search);\n    const conversationIdFromUrl = searchParams.get(\"conversationId\");\n    if (!(params === null || params === void 0 ? void 0 : params.agentId)) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: \"Agent ID kh\\xf4ng hợp lệ\"\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 161,\n            columnNumber: 12\n        }, this);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Check for login and get business ID\n        const token = localStorage.getItem(\"auth_token\");\n        setIsLoggedIn(!!token);\n        const currentBusinessId = (0,_lib_api_client__WEBPACK_IMPORTED_MODULE_13__.getBusinessId)();\n        if (currentBusinessId) {\n            setBusinessId(currentBusinessId);\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (isLoggedIn && businessId && agentId) {\n            console.log(\"Fetching agent details and conversation with:\", {\n                isLoggedIn,\n                businessId,\n                agentId\n            });\n            fetchAgentDetails();\n            fetchOrCreateConversation();\n        }\n    }, [\n        isLoggedIn,\n        businessId,\n        agentId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Scroll to bottom when messages change\n        scrollToBottom();\n    }, [\n        messages\n    ]);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Disable eslint warning for missing dependencies\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const fetchAgentDetails = async ()=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            console.log(\"Fetching agent details:\", {\n                agentId,\n                apiUrl: \"\".concat(apiUrl, \"/ai-agents/\").concat(agentId)\n            });\n            const response = await fetch(\"\".concat(apiUrl, \"/ai-agents/\").concat(agentId), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Agent details response status:\", response.status);\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch agent details\");\n            }\n            const data = await response.json();\n            console.log(\"Agent data received:\", data);\n            setAgent(data.data);\n        } catch (error) {\n            console.error(\"Error fetching agent details:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to load AI agent. Please try again.\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const fetchOrCreateConversation = async ()=>{\n        setIsLoading(true);\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            // If we have a conversationId from URL, load that specific conversation\n            if (conversationIdFromUrl) {\n                console.log(\"Loading specific conversation from URL:\", conversationIdFromUrl);\n                try {\n                    const response = await fetch(\"\".concat(apiUrl, \"/ai-conversations/\").concat(conversationIdFromUrl), {\n                        headers: {\n                            \"Authorization\": \"Bearer \".concat(token),\n                            \"Content-Type\": \"application/json\",\n                            \"Accept\": \"application/json\"\n                        },\n                        mode: \"cors\",\n                        credentials: \"include\"\n                    });\n                    if (!response.ok) {\n                        throw new Error(\"Failed to fetch conversation\");\n                    }\n                    const data = await response.json();\n                    console.log(\"Conversation data:\", data);\n                    setConversation(data.conversation);\n                    setMessages(data.messages || []);\n                    setIsNewConversation(false);\n                    setIsLoading(false);\n                    return;\n                } catch (error) {\n                    console.error(\"Error fetching specific conversation:\", error);\n                    toast({\n                        title: \"Error\",\n                        description: \"Failed to load the specific conversation. Loading default conversation instead.\",\n                        variant: \"destructive\"\n                    });\n                // Continue with normal flow to find/create a conversation\n                }\n            }\n            console.log(\"Fetching existing conversations:\", {\n                agentId,\n                businessId,\n                url: \"\".concat(apiUrl, \"/ai-conversations?business_id=\").concat(businessId)\n            });\n            // Try to find an existing conversation with this agent\n            const responseExisting = await fetch(\"\".concat(apiUrl, \"/ai-conversations?business_id=\").concat(businessId), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Existing conversations response status:\", responseExisting.status);\n            if (!responseExisting.ok) {\n                throw new Error(\"Failed to fetch conversations\");\n            }\n            const existingData = await responseExisting.json();\n            console.log(\"Existing conversations:\", existingData);\n            // If there's an existing conversation, use it\n            if (existingData.data && existingData.data.length > 0) {\n                // Lọc cuộc trò chuyện với agent hiện tại\n                const agentConversations = existingData.data.filter((conv)=>conv.ai_agent_id === agentId);\n                console.log(\"Agent conversations:\", agentConversations);\n                if (agentConversations.length > 0) {\n                    const conv = agentConversations[0]; // Lấy cuộc trò chuyện gần nhất\n                    setConversation(conv);\n                    await fetchMessages(conv.id);\n                    setIsNewConversation(false);\n                } else {\n                    // Không tìm thấy cuộc trò chuyện với agent này\n                    setIsNewConversation(true);\n                    setMessages([]);\n                }\n            } else {\n                // Otherwise create a new conversation\n                setIsNewConversation(true);\n                setMessages([]);\n            }\n        } catch (error) {\n            console.error(\"Error fetching/creating conversation:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to load conversation. Please try again.\",\n                variant: \"destructive\"\n            });\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const fetchMessages = async (conversationId)=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            console.log(\"Fetching messages for conversation:\", conversationId);\n            const response = await fetch(\"\".concat(apiUrl, \"/ai-conversations/\").concat(conversationId), {\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Messages response status:\", response.status);\n            if (!response.ok) {\n                throw new Error(\"Failed to fetch messages\");\n            }\n            const data = await response.json();\n            console.log(\"Messages data:\", data);\n            // API có thể trả về cấu trúc khác nhau\n            if (data.messages) {\n                setMessages(data.messages);\n            } else if (data.data && data.data.messages) {\n                setMessages(data.data.messages);\n            } else {\n                console.error(\"Unexpected message data structure:\", data);\n                setMessages([]);\n            }\n        } catch (error) {\n            console.error(\"Error fetching messages:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to load messages. Please try again.\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const createNewConversation = async (initialMessage)=>{\n        try {\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            console.log(\"Creating new conversation with:\", {\n                agentId,\n                businessId,\n                initialMessage,\n                apiUrl\n            });\n            const fullUrl = \"\".concat(apiUrl, \"/ai-conversations\");\n            console.log(\"POST request to:\", fullUrl);\n            const response = await fetch(fullUrl, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": \"Bearer \".concat(token),\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    ai_agent_id: agentId,\n                    business_id: businessId,\n                    initial_message: initialMessage\n                }),\n                mode: \"cors\",\n                credentials: \"include\"\n            });\n            console.log(\"Create conversation response status:\", response.status);\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(\"Error creating conversation:\", errorText);\n                throw new Error(\"Failed to create conversation\");\n            }\n            const data = await response.json();\n            console.log(\"Conversation created successfully:\", data);\n            let conversationData;\n            if (data.data) {\n                conversationData = data.data;\n            } else {\n                conversationData = data;\n            }\n            setConversation(conversationData);\n            if (conversationData.id) {\n                await fetchMessages(conversationData.id);\n                setIsNewConversation(false);\n                // Clear input message after creating conversation\n                setInputMessage(\"\");\n                return conversationData.id;\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error creating conversation:\", error);\n            toast({\n                title: \"Error\",\n                description: \"Failed to create conversation. Please try again.\",\n                variant: \"destructive\"\n            });\n            return null;\n        }\n    };\n    const sendMessage = async ()=>{\n        if (!inputMessage.trim() && files.length === 0) return;\n        setIsSending(true);\n        try {\n            var _prepareData_message;\n            const token = localStorage.getItem(\"auth_token\");\n            const apiUrl = \"http://localhost:8001/api\" || 0;\n            let conversationId = conversation === null || conversation === void 0 ? void 0 : conversation.id;\n            // Check if we have a conversation or need to create one\n            if (!conversationId) {\n                await createNewConversation(inputMessage);\n                if (!conversationId) {\n                    throw new Error(\"Failed to create conversation\");\n                }\n                // Reset input after creating conversation\n                setInputMessage(\"\");\n                setFiles([]);\n                setIsSending(false);\n                return;\n            }\n            // Create a temporary user message to display immediately\n            const userMessage = {\n                id: \"temp-\".concat(Date.now()),\n                ai_conversation_id: conversationId,\n                role: \"user\",\n                content: inputMessage,\n                is_read: true,\n                created_at: new Date().toISOString()\n            };\n            // Create a temporary assistant message with loading state\n            const tempAssistantMessage = {\n                id: \"temp-response-\".concat(Date.now()),\n                ai_conversation_id: conversationId,\n                role: \"assistant\",\n                content: \"\",\n                is_read: false,\n                created_at: new Date().toISOString(),\n                loading: true\n            };\n            // Add temporary messages to the UI\n            setMessages((prev)=>[\n                    ...prev,\n                    userMessage,\n                    tempAssistantMessage\n                ]);\n            // Prepare form data for the request\n            const formData = new FormData();\n            formData.append(\"content\", inputMessage);\n            // Add files if any\n            if (files.length > 0) {\n                console.log(\"Adding files to request:\", files.length);\n                files.forEach((file)=>{\n                    formData.append(\"files[]\", file);\n                });\n            }\n            // Clear input and files\n            setInputMessage(\"\");\n            setFiles([]);\n            // Step 1: First send the message to the stream-prepare endpoint to get a token\n            const prepareResponse = await fetch(\"\".concat(apiUrl, \"/ai-conversations/\").concat(conversationId, \"/messages/stream-prepare\"), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": \"Bearer \".concat(token)\n                },\n                body: JSON.stringify({\n                    content: inputMessage\n                })\n            });\n            if (!prepareResponse.ok) {\n                throw new Error(\"Failed to prepare streaming session\");\n            }\n            const prepareData = await prepareResponse.json();\n            const streamToken = prepareData.stream_token;\n            if (!streamToken) {\n                throw new Error(\"No stream token received\");\n            }\n            // Step 2: Use the stream token to connect to the streaming endpoint\n            const streamUrl = \"\".concat(apiUrl, \"/ai-direct-stream/\").concat(streamToken);\n            console.log(\"Connecting to streaming URL:\", streamUrl);\n            // Create Event Source for SSE (Server-Sent Events)\n            const eventSource = new EventSource(streamUrl);\n            console.log(\"EventSource created\");\n            // Handle connection open\n            eventSource.onopen = (event)=>{\n                console.log(\"EventSource connection opened:\", event);\n            };\n            let realUserMessageId = ((_prepareData_message = prepareData.message) === null || _prepareData_message === void 0 ? void 0 : _prepareData_message.id) || \"\";\n            let realAssistantMessageId = \"\";\n            // Set the user message with the actual ID from the server\n            if (prepareData.message) {\n                setMessages((prev)=>prev.map((msg)=>msg.id === userMessage.id ? {\n                            ...prepareData.message\n                        } : msg));\n            }\n            // Handle stream events\n            eventSource.onmessage = (event)=>{\n                console.log(\"Stream event received:\", event.data);\n                if (event.data === \"[DONE]\") {\n                    console.log(\"Stream complete, closing connection\");\n                    eventSource.close();\n                    // Cập nhật trạng thái loading khi hoàn thành\n                    setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                                ...msg,\n                                loading: false\n                            } : msg));\n                    setIsSending(false);\n                    return;\n                }\n                try {\n                    const data = JSON.parse(event.data);\n                    console.log(\"Parsed stream data:\", data);\n                    // Handle data from direct streaming endpoint\n                    if (data.type === \"chunk\") {\n                        console.log(\"Text chunk received:\", data.content);\n                        // Hiển thị ngay lập tức từng chunk text\n                        setMessages((prev)=>{\n                            const updatedMessages = prev.map((msg)=>{\n                                if (msg.id === tempAssistantMessage.id) {\n                                    return {\n                                        ...msg,\n                                        content: msg.content + data.content\n                                    };\n                                }\n                                return msg;\n                            });\n                            return updatedMessages;\n                        });\n                        return;\n                    }\n                    // Handle completion event from Assistants API\n                    if (data.type === \"complete\") {\n                        console.log(\"Streaming complete, waiting for message ID\");\n                        // We'll keep the message as is until we get the message_saved event\n                        return;\n                    }\n                    // Handle saved message with ID from the backend\n                    if (data.type === \"message_saved\" && data.message_id) {\n                        console.log(\"Message saved with ID:\", data.message_id);\n                        // Update our temporary message with the real one from the database\n                        setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                                    ...msg,\n                                    id: data.message_id,\n                                    loading: false\n                                } : msg));\n                        setIsSending(false);\n                        return;\n                    }\n                    // Handle error event\n                    if (data.type === \"error\") {\n                        console.error(\"Error received:\", data.message || data.error);\n                        toast({\n                            title: \"Error\",\n                            description: data.message || data.error || \"An error occurred while processing your message.\",\n                            variant: \"destructive\"\n                        });\n                        // Update the assistant message to show error\n                        setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                                    ...msg,\n                                    content: data.message || \"Xin lỗi, đ\\xe3 xảy ra lỗi khi xử l\\xfd tin nhắn.\",\n                                    loading: false\n                                } : msg));\n                        setIsSending(false);\n                        return;\n                    }\n                } catch (err) {\n                    console.error(\"Error processing stream event:\", err);\n                }\n            };\n            eventSource.onerror = (error)=>{\n                var _error_target;\n                console.error(\"EventSource error:\", error);\n                // Check if the error is due to the user not being authenticated\n                if (error instanceof Event && ((_error_target = error.target) === null || _error_target === void 0 ? void 0 : _error_target.readyState) === EventSource.CLOSED) {\n                    console.error(\"EventSource connection closed\");\n                }\n                eventSource.close();\n                setIsSending(false);\n                toast({\n                    title: \"Connection Error\",\n                    description: \"Could not establish streaming connection. Please try again.\",\n                    variant: \"destructive\"\n                });\n                // Update the assistant message to show error\n                setMessages((prev)=>prev.map((msg)=>msg.id === tempAssistantMessage.id ? {\n                            ...msg,\n                            content: \"Kh\\xf4ng thể kết nối tới m\\xe1y chủ. Vui l\\xf2ng thử lại sau hoặc đăng nhập lại.\",\n                            loading: false\n                        } : msg));\n            };\n        } catch (error) {\n            console.error(\"Error sending message:\", error);\n            setIsSending(false);\n            toast({\n                title: \"Error\",\n                description: \"Failed to send message. Please try again.\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const handleKeyDown = (e)=>{\n        console.log(\"Key down event:\", e.key);\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            console.log(\"Enter key pressed (without shift)\");\n            sendMessage();\n        }\n    };\n    const handleFileClick = ()=>{\n        var _fileInputRef_current;\n        console.log(\"File button clicked\");\n        (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n    };\n    const handleFileChange = (e)=>{\n        console.log(\"File input changed\");\n        if (e.target.files) {\n            const newFiles = Array.from(e.target.files);\n            console.log(\"Selected files:\", newFiles.map((f)=>f.name));\n            setFiles((prev)=>[\n                    ...prev,\n                    ...newFiles\n                ]);\n        }\n    };\n    const removeFile = (index)=>{\n        console.log(\"Removing file at index:\", index);\n        setFiles((prev)=>prev.filter((_, i)=>i !== index));\n    };\n    const formatTime = (dateString)=>{\n        const date = new Date(dateString);\n        return date.toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\"\n        });\n    };\n    if (!isLoggedIn) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto py-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8 bg-yellow-50 border border-yellow-300 rounded-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-semibold mb-2\",\n                            children: \"Bạn cần đăng nhập trước\"\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 726,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: [\n                                \"Vui l\\xf2ng \",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                    href: \"/login\",\n                                    className: \"text-blue-600 hover:underline\",\n                                    children: \"đăng nhập\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 727,\n                                    columnNumber: 25\n                                }, this),\n                                \" để sử dụng t\\xednh năng n\\xe0y.\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 727,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                    lineNumber: 725,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                lineNumber: 724,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 723,\n            columnNumber: 7\n        }, this);\n    }\n    if (!businessId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__.AppShell, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto py-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-8 bg-yellow-50 border border-yellow-300 rounded-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-semibold mb-2\",\n                            children: \"Chọn doanh nghiệp\"\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 739,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Vui l\\xf2ng chọn một doanh nghiệp để chat với AI Agent.\"\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 740,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                    lineNumber: 738,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                lineNumber: 737,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n            lineNumber: 736,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_layout_app_shell__WEBPACK_IMPORTED_MODULE_4__.AppShell, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                id: \"ce13646027efefd5\",\n                dynamic: [\n                    markdownStyles\n                ],\n                children: \".typing-indicator{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.typing-indicator span{height:8px;width:8px;background:currentColor;opacity:.6;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;margin:0 2px;-webkit-animation:bounce 1.5s infinite ease-in-out;-moz-animation:bounce 1.5s infinite ease-in-out;-o-animation:bounce 1.5s infinite ease-in-out;animation:bounce 1.5s infinite ease-in-out}.typing-indicator span:nth-child(1){-webkit-animation-delay:0s;-moz-animation-delay:0s;-o-animation-delay:0s;animation-delay:0s}.typing-indicator span:nth-child(2){-webkit-animation-delay:.2s;-moz-animation-delay:.2s;-o-animation-delay:.2s;animation-delay:.2s}.typing-indicator span:nth-child(3){-webkit-animation-delay:.4s;-moz-animation-delay:.4s;-o-animation-delay:.4s;animation-delay:.4s}@-webkit-keyframes bounce{0%,60%,100%{-webkit-transform:translatey(0);transform:translatey(0)}30%{-webkit-transform:translatey(-4px);transform:translatey(-4px)}}@-moz-keyframes bounce{0%,60%,100%{-moz-transform:translatey(0);transform:translatey(0)}30%{-moz-transform:translatey(-4px);transform:translatey(-4px)}}@-o-keyframes bounce{0%,60%,100%{-o-transform:translatey(0);transform:translatey(0)}30%{-o-transform:translatey(-4px);transform:translatey(-4px)}}@keyframes bounce{0%,60%,100%{-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}30%{-webkit-transform:translatey(-4px);-moz-transform:translatey(-4px);-o-transform:translatey(-4px);transform:translatey(-4px)}}\".concat(markdownStyles, \"\\n      \")\n            }, void 0, false, void 0, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                    [\n                        \"ce13646027efefd5\",\n                        [\n                            markdownStyles\n                        ]\n                    ]\n                ]) + \" \" + \"flex flex-col h-[calc(100vh-4rem)]\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                            [\n                                \"ce13646027efefd5\",\n                                [\n                                    markdownStyles\n                                ]\n                            ]\n                        ]) + \" \" + \"border-b p-2 md:p-4 flex justify-between items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                    [\n                                        \"ce13646027efefd5\",\n                                        [\n                                            markdownStyles\n                                        ]\n                                    ]\n                                ]) + \" \" + \"flex items-center gap-2 md:gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                        variant: \"ghost\",\n                                        className: \"mr-1 p-1 md:p-2 h-8 w-8 md:h-9 md:w-9\",\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                            href: \"/ai\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 794,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 793,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 792,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.Avatar, {\n                                        className: \"h-8 w-8 md:h-9 md:w-9\",\n                                        children: (agent === null || agent === void 0 ? void 0 : agent.avatar) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarImage, {\n                                            src: agent.avatar.startsWith(\"http\") ? agent.avatar : \"\".concat((_process_env_NEXT_PUBLIC_API_URL = \"http://localhost:8001/api\") === null || _process_env_NEXT_PUBLIC_API_URL === void 0 ? void 0 : _process_env_NEXT_PUBLIC_API_URL.replace(\"/api\", \"\"), \"/storage/\").concat(agent.avatar),\n                                            alt: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI Agent\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 800,\n                                            columnNumber: 17\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                            children: (agent === null || agent === void 0 ? void 0 : (_agent_name = agent.name) === null || _agent_name === void 0 ? void 0 : _agent_name.substring(0, 2).toUpperCase()) || \"AI\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 807,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 798,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                            [\n                                                \"ce13646027efefd5\",\n                                                [\n                                                    markdownStyles\n                                                ]\n                                            ]\n                                        ]),\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]) + \" \" + \"font-semibold text-xs md:text-sm\",\n                                                children: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI Agent\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 812,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]) + \" \" + \"text-xs text-muted-foreground hidden sm:block\",\n                                                children: (conversation === null || conversation === void 0 ? void 0 : conversation.title) || \"New conversation\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 813,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 811,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 791,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                    [\n                                        \"ce13646027efefd5\",\n                                        [\n                                            markdownStyles\n                                        ]\n                                    ]\n                                ]) + \" \" + \"text-xs text-muted-foreground hidden md:block\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]),\n                                    children: [\n                                        \"API: \",\n                                        \"http://localhost:8001/api\" || 0\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 821,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 820,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipProvider, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                                            asChild: true,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                                variant: \"ghost\",\n                                                size: \"icon\",\n                                                onClick: fetchOrCreateConversation,\n                                                disabled: isLoading,\n                                                className: \"h-8 w-8 md:h-9 md:w-9\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                    className: \"h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                    lineNumber: 834,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 827,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 826,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipContent, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]),\n                                                children: \"Start new conversation\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 838,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 837,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 825,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 824,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 790,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_10__.ScrollArea, {\n                        className: \"flex-1 p-2 md:p-4\",\n                        children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"flex justify-center items-center h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                className: \"h-8 w-8 animate-spin text-muted-foreground\"\n                            }, void 0, false, {\n                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                lineNumber: 848,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 847,\n                            columnNumber: 13\n                        }, this) : messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"flex flex-col justify-center items-center h-full text-center px-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"bg-primary/10 p-4 rounded-full mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.Avatar, {\n                                        className: \"h-12 w-12\",\n                                        children: (agent === null || agent === void 0 ? void 0 : agent.avatar) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarImage, {\n                                            src: agent.avatar.startsWith(\"http\") ? agent.avatar : \"\".concat((_process_env_NEXT_PUBLIC_API_URL1 = \"http://localhost:8001/api\") === null || _process_env_NEXT_PUBLIC_API_URL1 === void 0 ? void 0 : _process_env_NEXT_PUBLIC_API_URL1.replace(\"/api\", \"\"), \"/storage/\").concat(agent.avatar),\n                                            alt: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI Agent\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 855,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                            children: (agent === null || agent === void 0 ? void 0 : (_agent_name1 = agent.name) === null || _agent_name1 === void 0 ? void 0 : _agent_name1.substring(0, 2).toUpperCase()) || \"AI\"\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 862,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 853,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 852,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"text-base md:text-lg font-medium mb-2\",\n                                    children: [\n                                        \"Start chatting with \",\n                                        agent === null || agent === void 0 ? void 0 : agent.name\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 866,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"text-sm text-muted-foreground max-w-md mb-6\",\n                                    children: (agent === null || agent === void 0 ? void 0 : agent.description) || \"Ask any questions or start a conversation.\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 867,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 851,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"space-y-4 pb-4\",\n                            children: [\n                                messages.filter((m)=>m.role !== \"system\").map((message)=>{\n                                    var _process_env_NEXT_PUBLIC_API_URL, _agent_name;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                            [\n                                                \"ce13646027efefd5\",\n                                                [\n                                                    markdownStyles\n                                                ]\n                                            ]\n                                        ]) + \" \" + \"flex \".concat(message.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]) + \" \" + \"flex gap-2 md:gap-3 max-w-[85%] md:max-w-[80%] \".concat(message.role === \"user\" ? \"flex-row-reverse\" : \"\"),\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.Avatar, {\n                                                    className: \"h-6 w-6 md:h-8 md:w-8 flex-shrink-0 mt-1\",\n                                                    children: message.role === \"user\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                                        children: \"Me\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 881,\n                                                        columnNumber: 25\n                                                    }, this) : (agent === null || agent === void 0 ? void 0 : agent.avatar) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarImage, {\n                                                        src: agent.avatar.startsWith(\"http\") ? agent.avatar : \"\".concat((_process_env_NEXT_PUBLIC_API_URL = \"http://localhost:8001/api\") === null || _process_env_NEXT_PUBLIC_API_URL === void 0 ? void 0 : _process_env_NEXT_PUBLIC_API_URL.replace(\"/api\", \"\"), \"/storage/\").concat(agent.avatar),\n                                                        alt: (agent === null || agent === void 0 ? void 0 : agent.name) || \"AI\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 883,\n                                                        columnNumber: 25\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_7__.AvatarFallback, {\n                                                        children: (agent === null || agent === void 0 ? void 0 : (_agent_name = agent.name) === null || _agent_name === void 0 ? void 0 : _agent_name.substring(0, 2).toUpperCase()) || \"AI\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 890,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                    lineNumber: 879,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                        [\n                                                            \"ce13646027efefd5\",\n                                                            [\n                                                                markdownStyles\n                                                            ]\n                                                        ]\n                                                    ]),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Card, {\n                                                            className: \"\".concat(message.role === \"user\" ? \"bg-primary text-primary-foreground\" : \"bg-muted\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.CardContent, {\n                                                                className: \"p-2 md:p-3 text-sm\",\n                                                                children: [\n                                                                    message.loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                            [\n                                                                                \"ce13646027efefd5\",\n                                                                                [\n                                                                                    markdownStyles\n                                                                                ]\n                                                                            ]\n                                                                        ]),\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MarkdownContent, {\n                                                                                content: message.content\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                lineNumber: 899,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                    [\n                                                                                        \"ce13646027efefd5\",\n                                                                                        [\n                                                                                            markdownStyles\n                                                                                        ]\n                                                                                    ]\n                                                                                ]) + \" \" + \"mt-1 flex\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                        [\n                                                                                            \"ce13646027efefd5\",\n                                                                                            [\n                                                                                                markdownStyles\n                                                                                            ]\n                                                                                        ]\n                                                                                    ]) + \" \" + \"typing-indicator\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                                [\n                                                                                                    \"ce13646027efefd5\",\n                                                                                                    [\n                                                                                                        markdownStyles\n                                                                                                    ]\n                                                                                                ]\n                                                                                            ])\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                            lineNumber: 902,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                                [\n                                                                                                    \"ce13646027efefd5\",\n                                                                                                    [\n                                                                                                        markdownStyles\n                                                                                                    ]\n                                                                                                ]\n                                                                                            ])\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                            lineNumber: 903,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                                [\n                                                                                                    \"ce13646027efefd5\",\n                                                                                                    [\n                                                                                                        markdownStyles\n                                                                                                    ]\n                                                                                                ]\n                                                                                            ])\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                            lineNumber: 904,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                    lineNumber: 901,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                lineNumber: 900,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                        lineNumber: 898,\n                                                                        columnNumber: 29\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(MarkdownContent, {\n                                                                        content: message.content\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                        lineNumber: 909,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    message.files && message.files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                            [\n                                                                                \"ce13646027efefd5\",\n                                                                                [\n                                                                                    markdownStyles\n                                                                                ]\n                                                                            ]\n                                                                        ]) + \" \" + \"mt-2 grid gap-2\",\n                                                                        children: message.files.map((file, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                                href: file,\n                                                                                target: \"_blank\",\n                                                                                rel: \"noopener noreferrer\",\n                                                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                    [\n                                                                                        \"ce13646027efefd5\",\n                                                                                        [\n                                                                                            markdownStyles\n                                                                                        ]\n                                                                                    ]\n                                                                                ]) + \" \" + \"flex items-center gap-2 p-2 rounded bg-background/50 hover:bg-background\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                                                        className: \"h-3 w-3 md:h-4 md:w-4\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                        lineNumber: 923,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                                            [\n                                                                                                \"ce13646027efefd5\",\n                                                                                                [\n                                                                                                    markdownStyles\n                                                                                                ]\n                                                                                            ]\n                                                                                        ]) + \" \" + \"text-xs truncate\",\n                                                                                        children: file.split(\"/\").pop() || \"File\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                        lineNumber: 924,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, index, true, {\n                                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                                lineNumber: 916,\n                                                                                columnNumber: 33\n                                                                            }, this))\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                        lineNumber: 914,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                lineNumber: 896,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 895,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                [\n                                                                    \"ce13646027efefd5\",\n                                                                    [\n                                                                        markdownStyles\n                                                                    ]\n                                                                ]\n                                                            ]) + \" \" + \"text-[10px] md:text-xs text-muted-foreground mt-1 \".concat(message.role === \"user\" ? \"text-right\" : \"\"),\n                                                            children: formatTime(message.created_at)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 933,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                    lineNumber: 894,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 878,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, message.id, false, {\n                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                        lineNumber: 874,\n                                        columnNumber: 17\n                                    }, this);\n                                }),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: messagesEndRef,\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ])\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 940,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 872,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 845,\n                        columnNumber: 9\n                    }, this),\n                    files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                            [\n                                \"ce13646027efefd5\",\n                                [\n                                    markdownStyles\n                                ]\n                            ]\n                        ]) + \" \" + \"px-2 md:px-4 pt-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"flex flex-wrap gap-2\",\n                            children: files.map((file, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"flex items-center gap-1 bg-muted p-1 rounded text-xs\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                [\n                                                    \"ce13646027efefd5\",\n                                                    [\n                                                        markdownStyles\n                                                    ]\n                                                ]\n                                            ]) + \" \" + \"truncate max-w-[80px] md:max-w-[100px]\",\n                                            children: file.name\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 951,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"icon\",\n                                            className: \"h-4 w-4 rounded-full\",\n                                            onClick: ()=>removeFile(index),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                    [\n                                                        \"ce13646027efefd5\",\n                                                        [\n                                                            markdownStyles\n                                                        ]\n                                                    ]\n                                                ]),\n                                                children: \"\\xd7\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 958,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 952,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 950,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 948,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 947,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                            [\n                                \"ce13646027efefd5\",\n                                [\n                                    markdownStyles\n                                ]\n                            ]\n                        ]) + \" \" + \"border-t p-2 md:p-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                [\n                                    \"ce13646027efefd5\",\n                                    [\n                                        markdownStyles\n                                    ]\n                                ]\n                            ]) + \" \" + \"relative flex\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    ref: fileInputRef,\n                                    onChange: handleFileChange,\n                                    multiple: true,\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"hidden\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 969,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.Input, {\n                                    placeholder: \"Type a message...\",\n                                    value: inputMessage,\n                                    onChange: (e)=>setInputMessage(e.target.value),\n                                    onKeyDown: handleKeyDown,\n                                    disabled: isSending || isLoading,\n                                    className: \"pr-20 md:pr-24 text-sm md:text-base\"\n                                }, void 0, false, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 977,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                        [\n                                            \"ce13646027efefd5\",\n                                            [\n                                                markdownStyles\n                                            ]\n                                        ]\n                                    ]) + \" \" + \"absolute right-1 top-1 flex items-center gap-1\",\n                                    children: [\n                                        (agent === null || agent === void 0 ? void 0 : (_agent_capabilities = agent.capabilities) === null || _agent_capabilities === void 0 ? void 0 : _agent_capabilities.includes(\"image_upload\")) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipProvider, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                                                        asChild: true,\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                                            type: \"button\",\n                                                            size: \"icon\",\n                                                            variant: \"ghost\",\n                                                            className: \"h-7 w-7 md:h-8 md:w-8\",\n                                                            onClick: handleFileClick,\n                                                            disabled: isSending,\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                                className: \"h-3 w-3 md:h-4 md:w-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                lineNumber: 999,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 991,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 990,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipContent, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                [\n                                                                    \"ce13646027efefd5\",\n                                                                    [\n                                                                        markdownStyles\n                                                                    ]\n                                                                ]\n                                                            ]),\n                                                            children: \"Upload images\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 1003,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 1002,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 989,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 988,\n                                            columnNumber: 17\n                                        }, this),\n                                        (agent === null || agent === void 0 ? void 0 : (_agent_capabilities1 = agent.capabilities) === null || _agent_capabilities1 === void 0 ? void 0 : _agent_capabilities1.includes(\"voice\")) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipProvider, {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.Tooltip, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipTrigger, {\n                                                        asChild: true,\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                                            type: \"button\",\n                                                            size: \"icon\",\n                                                            variant: \"ghost\",\n                                                            className: \"h-7 w-7 md:h-8 md:w-8\",\n                                                            disabled: true,\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                                className: \"h-3 w-3 md:h-4 md:w-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                                lineNumber: 1020,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 1013,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 1012,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tooltip__WEBPACK_IMPORTED_MODULE_9__.TooltipContent, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default().dynamic([\n                                                                [\n                                                                    \"ce13646027efefd5\",\n                                                                    [\n                                                                        markdownStyles\n                                                                    ]\n                                                                ]\n                                                            ]),\n                                                            children: \"Voice message (coming soon)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                            lineNumber: 1024,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                        lineNumber: 1023,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 1011,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 1010,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button, {\n                                            type: \"button\",\n                                            size: \"icon\",\n                                            className: \"h-7 w-7 md:h-8 md:w-8\",\n                                            onClick: ()=>{\n                                                console.log(\"Send button clicked\");\n                                                sendMessage();\n                                            },\n                                            disabled: isSending || inputMessage.trim() === \"\" && files.length === 0,\n                                            children: isSending ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                className: \"h-3 w-3 md:h-4 md:w-4 animate-spin\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 1041,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeftIcon_ImageIcon_Loader2Icon_MicIcon_PaperclipIcon_RefreshCwIcon_SendIcon_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                className: \"h-3 w-3 md:h-4 md:w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                                lineNumber: 1043,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                            lineNumber: 1030,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                                    lineNumber: 986,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                            lineNumber: 968,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                        lineNumber: 967,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n                lineNumber: 788,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Volumes/Data/banhang/frontend/app/ai/[agentId]/chat/page.tsx\",\n        lineNumber: 748,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"MCEUpSZ3hrwH69t3iXvCoDfXKe4=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_3__.useRouter,\n        _components_ui_use_toast__WEBPACK_IMPORTED_MODULE_11__.useToast\n    ];\n});\n_c1 = ChatPage;\nvar _c, _c1;\n$RefreshReg$(_c, \"MarkdownContent\");\n$RefreshReg$(_c1, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9haS9bYWdlbnRJZF0vY2hhdC9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRW1EO0FBQ0c7QUFDRTtBQUNUO0FBQ0Y7QUFDK0I7QUFDcEI7QUFDMEM7QUFDMUM7QUFDNkQ7QUFDakU7QUFDeEI7QUFFb0I7QUFDTjtBQUNSO0FBQ21DO0FBQ0k7QUF3Q3pFLE1BQU1pQyxpQkFBaUI7SUFDckJDLEdBQUc7SUFDSEMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsTUFBTTtJQUNOQyxLQUFLO0lBQ0xDLFlBQVk7SUFDWkMsR0FBRztJQUNIQyxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsSUFBSTtJQUNKQyxJQUFJO0FBQ047QUFFQSxNQUFNQyxxQkFBaUM7SUFDckNsQixHQUFHO1lBQUMsRUFBRW1CLFFBQVEsRUFBRTs2QkFBSyw4REFBQ25CO1lBQUVvQixXQUFXckIsZUFBZUMsQ0FBQztzQkFBR21COzs7Ozs7O0lBQ3REbEIsSUFBSTtZQUFDLEVBQUVrQixRQUFRLEVBQUU7NkJBQUssOERBQUNsQjtZQUFHbUIsV0FBV3JCLGVBQWVFLEVBQUU7c0JBQUdrQjs7Ozs7OztJQUN6RGpCLElBQUk7WUFBQyxFQUFFaUIsUUFBUSxFQUFFOzZCQUFLLDhEQUFDakI7WUFBR2tCLFdBQVdyQixlQUFlRyxFQUFFO3NCQUFHaUI7Ozs7Ozs7SUFDekRoQixJQUFJO1lBQUMsRUFBRWdCLFFBQVEsRUFBRTs2QkFBSyw4REFBQ2hCO1lBQUdpQixXQUFXckIsZUFBZUksRUFBRTtzQkFBR2dCOzs7Ozs7O0lBQ3pEZixJQUFJO1lBQUMsRUFBRWUsUUFBUSxFQUFFOzZCQUFLLDhEQUFDZjtZQUFHZ0IsV0FBV3JCLGVBQWVLLEVBQUU7c0JBQUdlOzs7Ozs7O0lBQ3pE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MEJBQ0MsOERBQUNoRSw2SkFBV0E7Z0RBQUM4QixXQUFVOzs7OztxRUFFdkIsOERBQUNuQyw2SkFBUUE7Z0RBQUNtQyxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBU3RDO0dBcDVCd0JtQjs7UUFDUHRFLHNEQUFTQTtRQUNUQyxzREFBU0E7UUFDTnFCLCtEQUFRQTs7O01BSEpnRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvYWkvW2FnZW50SWRdL2NoYXQvcGFnZS50c3g/MDBlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCJcbmltcG9ydCB7IEFwcFNoZWxsIH0gZnJvbSBcIkAvY29tcG9uZW50cy9sYXlvdXQvYXBwLXNoZWxsXCJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCJcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiXG5pbXBvcnQgeyBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBBdmF0YXJJbWFnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYXZhdGFyXCJcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCJcbmltcG9ydCB7IFRvb2x0aXAsIFRvb2x0aXBDb250ZW50LCBUb29sdGlwUHJvdmlkZXIsIFRvb2x0aXBUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90b29sdGlwXCJcbmltcG9ydCB7IFNjcm9sbEFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhXCJcbmltcG9ydCB7IEFycm93TGVmdEljb24sIFNlbmRJY29uLCBNaWNJY29uLCBJbWFnZUljb24sIFBhcGVyY2xpcEljb24sIFJlZnJlc2hDd0ljb24sIExvYWRlcjJJY29uIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdXNlLXRvYXN0XCJcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIlxuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCJcbmltcG9ydCB7IGdldEJ1c2luZXNzSWQgfSBmcm9tIFwiQC9saWIvYXBpLWNsaWVudFwiXG5pbXBvcnQgUmVhY3RNYXJrZG93biBmcm9tICdyZWFjdC1tYXJrZG93bidcbmltcG9ydCByZW1hcmtHZm0gZnJvbSAncmVtYXJrLWdmbSdcbmltcG9ydCB7IFByaXNtIGFzIFN5bnRheEhpZ2hsaWdodGVyIH0gZnJvbSAncmVhY3Qtc3ludGF4LWhpZ2hsaWdodGVyJ1xuaW1wb3J0IHsgdG9tb3Jyb3cgfSBmcm9tICdyZWFjdC1zeW50YXgtaGlnaGxpZ2h0ZXIvZGlzdC9lc20vc3R5bGVzL3ByaXNtJ1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRzIH0gZnJvbSAncmVhY3QtbWFya2Rvd24nXG5pbXBvcnQgdHlwZSB7IFByaXNtQXN5bmNMaWdodCBhcyBTeW50YXhIaWdobGlnaHRlclR5cGUgfSBmcm9tICdyZWFjdC1zeW50YXgtaGlnaGxpZ2h0ZXInXG5cbmludGVyZmFjZSBDb2RlUHJvcHMge1xuICBpbmxpbmU/OiBib29sZWFuXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxuICBub2RlPzogYW55IC8vIEFkZGVkIGZvciByZWFjdC1tYXJrZG93biB2NisgY29tcGF0aWJpbGl0eVxufVxuXG5pbnRlcmZhY2UgQWdlbnQge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBhdmF0YXI6IHN0cmluZyB8IG51bGxcbiAgZGVzY3JpcHRpb246IHN0cmluZyB8IG51bGxcbiAgY2FwYWJpbGl0aWVzOiBzdHJpbmdbXVxufVxuXG5pbnRlcmZhY2UgTWVzc2FnZSB7XG4gIGlkOiBzdHJpbmdcbiAgYWlfY29udmVyc2F0aW9uX2lkOiBzdHJpbmdcbiAgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJ1xuICBjb250ZW50OiBzdHJpbmdcbiAgZmlsZXM/OiBzdHJpbmdbXVxuICBpc19yZWFkOiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICBsb2FkaW5nPzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgQ29udmVyc2F0aW9uIHtcbiAgaWQ6IHN0cmluZ1xuICB0aXRsZTogc3RyaW5nXG4gIGFpX2FnZW50X2lkOiBzdHJpbmdcbiAgdXNlcl9pZDogc3RyaW5nXG4gIGJ1c2luZXNzX2lkOiBzdHJpbmdcbiAgbGFzdF9tZXNzYWdlX2F0OiBzdHJpbmdcbiAgYWlBZ2VudDogQWdlbnRcbn1cblxuY29uc3QgbWFya2Rvd25TdHlsZXMgPSB7XG4gIHA6ICdtYi00IGxlYWRpbmctcmVsYXhlZCcsXG4gIGgxOiAndGV4dC0zeGwgZm9udC1ib2xkIG1iLTQnLFxuICBoMjogJ3RleHQtMnhsIGZvbnQtYm9sZCBtYi0zJyxcbiAgaDM6ICd0ZXh0LXhsIGZvbnQtYm9sZCBtYi0yJyxcbiAgaDQ6ICd0ZXh0LWxnIGZvbnQtYm9sZCBtYi0yJyxcbiAgaDU6ICd0ZXh0LWJhc2UgZm9udC1ib2xkIG1iLTInLFxuICBoNjogJ3RleHQtc20gZm9udC1ib2xkIG1iLTInLFxuICB1bDogJ2xpc3QtZGlzYyBwbC02IG1iLTQnLFxuICBvbDogJ2xpc3QtZGVjaW1hbCBwbC02IG1iLTQnLFxuICBsaTogJ21iLTEnLFxuICBjb2RlOiAnYmctZ3JheS0xMDAgcm91bmRlZCBweC0xIHB5LTAuNSBmb250LW1vbm8gdGV4dC1zbScsXG4gIHByZTogJ2JnLWdyYXktMTAwIHJvdW5kZWQtbGcgcC00IG1iLTQgb3ZlcmZsb3cteC1hdXRvJyxcbiAgYmxvY2txdW90ZTogJ2JvcmRlci1sLTQgYm9yZGVyLWdyYXktMzAwIHBsLTQgaXRhbGljIG15LTQnLFxuICBhOiAndGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUnLFxuICB0YWJsZTogJ21pbi13LWZ1bGwgYm9yZGVyLWNvbGxhcHNlIG1iLTQnLFxuICB0aGVhZDogJ2JnLWdyYXktMTAwJyxcbiAgdGg6ICdib3JkZXIgYm9yZGVyLWdyYXktMzAwIHB4LTQgcHktMiB0ZXh0LWxlZnQnLFxuICB0ZDogJ2JvcmRlciBib3JkZXItZ3JheS0zMDAgcHgtNCBweS0yJyxcbn07XG5cbmNvbnN0IG1hcmtkb3duQ29tcG9uZW50czogQ29tcG9uZW50cyA9IHtcbiAgcDogKHsgY2hpbGRyZW4gfSkgPT4gPHAgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5wfT57Y2hpbGRyZW59PC9wPixcbiAgaDE6ICh7IGNoaWxkcmVuIH0pID0+IDxoMSBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLmgxfT57Y2hpbGRyZW59PC9oMT4sXG4gIGgyOiAoeyBjaGlsZHJlbiB9KSA9PiA8aDIgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5oMn0+e2NoaWxkcmVufTwvaDI+LFxuICBoMzogKHsgY2hpbGRyZW4gfSkgPT4gPGgzIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMuaDN9PntjaGlsZHJlbn08L2gzPixcbiAgaDQ6ICh7IGNoaWxkcmVuIH0pID0+IDxoNCBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLmg0fT57Y2hpbGRyZW59PC9oND4sXG4gIGg1OiAoeyBjaGlsZHJlbiB9KSA9PiA8aDUgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5oNX0+e2NoaWxkcmVufTwvaDU+LFxuICBoNjogKHsgY2hpbGRyZW4gfSkgPT4gPGg2IGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMuaDZ9PntjaGlsZHJlbn08L2g2PixcbiAgdWw6ICh7IGNoaWxkcmVuIH0pID0+IDx1bCBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLnVsfT57Y2hpbGRyZW59PC91bD4sXG4gIG9sOiAoeyBjaGlsZHJlbiB9KSA9PiA8b2wgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5vbH0+e2NoaWxkcmVufTwvb2w+LFxuICBsaTogKHsgY2hpbGRyZW4gfSkgPT4gPGxpIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMubGl9PntjaGlsZHJlbn08L2xpPixcbiAgY29kZTogKHsgbm9kZSwgaW5saW5lLCBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9OiBDb2RlUHJvcHMpID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IC9sYW5ndWFnZS0oXFx3KykvLmV4ZWMoY2xhc3NOYW1lIHx8ICcnKTtcbiAgICByZXR1cm4gIWlubGluZSAmJiBtYXRjaCA/IChcbiAgICAgIDxTeW50YXhIaWdobGlnaHRlclxuICAgICAgICBzdHlsZT17dG9tb3Jyb3cgYXMgYW55fVxuICAgICAgICBsYW5ndWFnZT17bWF0Y2hbMV19XG4gICAgICAgIFByZVRhZz1cImRpdlwiXG4gICAgICAgIHsuLi5wcm9wcyBhcyBhbnl9XG4gICAgICA+XG4gICAgICAgIHtTdHJpbmcoY2hpbGRyZW4pLnJlcGxhY2UoL1xcbiQvLCAnJyl9XG4gICAgICA8L1N5bnRheEhpZ2hsaWdodGVyPlxuICAgICkgOiAoXG4gICAgICA8Y29kZSBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLmNvZGV9IHsuLi5wcm9wc30+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvY29kZT5cbiAgICApO1xuICB9LFxuICBwcmU6ICh7IGNoaWxkcmVuIH0pID0+IDxwcmUgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy5wcmV9PntjaGlsZHJlbn08L3ByZT4sXG4gIGJsb2NrcXVvdGU6ICh7IGNoaWxkcmVuIH0pID0+IChcbiAgICA8YmxvY2txdW90ZSBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLmJsb2NrcXVvdGV9PntjaGlsZHJlbn08L2Jsb2NrcXVvdGU+XG4gICksXG4gIGE6ICh7IGhyZWYsIGNoaWxkcmVuIH0pID0+IChcbiAgICA8YSBocmVmPXtocmVmfSBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLmF9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2E+XG4gICksXG4gIHRhYmxlOiAoeyBjaGlsZHJlbiB9KSA9PiA8dGFibGUgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy50YWJsZX0+e2NoaWxkcmVufTwvdGFibGU+LFxuICB0aGVhZDogKHsgY2hpbGRyZW4gfSkgPT4gPHRoZWFkIGNsYXNzTmFtZT17bWFya2Rvd25TdHlsZXMudGhlYWR9PntjaGlsZHJlbn08L3RoZWFkPixcbiAgdGg6ICh7IGNoaWxkcmVuIH0pID0+IDx0aCBjbGFzc05hbWU9e21hcmtkb3duU3R5bGVzLnRofT57Y2hpbGRyZW59PC90aD4sXG4gIHRkOiAoeyBjaGlsZHJlbiB9KSA9PiA8dGQgY2xhc3NOYW1lPXttYXJrZG93blN0eWxlcy50ZH0+e2NoaWxkcmVufTwvdGQ+LFxufTtcblxuLy8gQ29tcG9uZW50IHdyYXBwZXIgY2hvIFJlYWN0TWFya2Rvd25cbmNvbnN0IE1hcmtkb3duQ29udGVudCA9ICh7IGNvbnRlbnQgfTogeyBjb250ZW50OiBzdHJpbmcgfSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1hcmtkb3duLWNvbnRlbnRcIj5cbiAgICA8UmVhY3RNYXJrZG93biBcbiAgICAgIHJlbWFya1BsdWdpbnM9e1tyZW1hcmtHZm1dfVxuICAgICAgY29tcG9uZW50cz17bWFya2Rvd25Db21wb25lbnRzfVxuICAgID5cbiAgICAgIHtjb250ZW50fVxuICAgIDwvUmVhY3RNYXJrZG93bj5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0UGFnZSgpIHtcbiAgY29uc3QgcGFyYW1zID0gdXNlUGFyYW1zKClcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgeyB0b2FzdCB9ID0gdXNlVG9hc3QoKVxuICBcbiAgY29uc3QgW2FnZW50LCBzZXRBZ2VudF0gPSB1c2VTdGF0ZTxBZ2VudCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtjb252ZXJzYXRpb24sIHNldENvbnZlcnNhdGlvbl0gPSB1c2VTdGF0ZTxDb252ZXJzYXRpb24gfCBudWxsPihudWxsKVxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFtpbnB1dE1lc3NhZ2UsIHNldElucHV0TWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2lzU2VuZGluZywgc2V0SXNTZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNOZXdDb252ZXJzYXRpb24sIHNldElzTmV3Q29udmVyc2F0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNMb2dnZWRJbiwgc2V0SXNMb2dnZWRJbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2J1c2luZXNzSWQsIHNldEJ1c2luZXNzSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZTxGaWxlW10+KFtdKVxuICBcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IGZpbGVJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKVxuICBcbiAgY29uc3QgYWdlbnRJZCA9IHBhcmFtcz8uYWdlbnRJZCBhcyBzdHJpbmdcbiAgLy8gR2V0IGNvbnZlcnNhdGlvbklkIGZyb20gcXVlcnkgcGFyYW1zIGlmIGl0IGV4aXN0c1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXG4gIGNvbnN0IGNvbnZlcnNhdGlvbklkRnJvbVVybCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2NvbnZlcnNhdGlvbklkJylcbiAgXG4gIGlmICghcGFyYW1zPy5hZ2VudElkKSB7XG4gICAgcmV0dXJuIDxkaXY+QWdlbnQgSUQga2jDtG5nIGjhu6NwIGzhu4c8L2Rpdj5cbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgZm9yIGxvZ2luIGFuZCBnZXQgYnVzaW5lc3MgSURcbiAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJylcbiAgICBzZXRJc0xvZ2dlZEluKCEhdG9rZW4pXG4gICAgXG4gICAgY29uc3QgY3VycmVudEJ1c2luZXNzSWQgPSBnZXRCdXNpbmVzc0lkKClcbiAgICBpZiAoY3VycmVudEJ1c2luZXNzSWQpIHtcbiAgICAgIHNldEJ1c2luZXNzSWQoY3VycmVudEJ1c2luZXNzSWQpXG4gICAgfVxuICB9LCBbXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvZ2dlZEluICYmIGJ1c2luZXNzSWQgJiYgYWdlbnRJZCkge1xuICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBhZ2VudCBkZXRhaWxzIGFuZCBjb252ZXJzYXRpb24gd2l0aDpcIiwge1xuICAgICAgICBpc0xvZ2dlZEluLFxuICAgICAgICBidXNpbmVzc0lkLFxuICAgICAgICBhZ2VudElkXG4gICAgICB9KTtcbiAgICAgIGZldGNoQWdlbnREZXRhaWxzKCk7XG4gICAgICBmZXRjaE9yQ3JlYXRlQ29udmVyc2F0aW9uKCk7XG4gICAgfVxuICB9LCBbaXNMb2dnZWRJbiwgYnVzaW5lc3NJZCwgYWdlbnRJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG1lc3NhZ2VzIGNoYW5nZVxuICAgIHNjcm9sbFRvQm90dG9tKClcbiAgfSwgW21lc3NhZ2VzXSlcblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pXG4gIH1cblxuICAvLyBEaXNhYmxlIGVzbGludCB3YXJuaW5nIGZvciBtaXNzaW5nIGRlcGVuZGVuY2llc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIGNvbnN0IGZldGNoQWdlbnREZXRhaWxzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoX3Rva2VuJylcbiAgICAgIGNvbnN0IGFwaVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMS9hcGknXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiRmV0Y2hpbmcgYWdlbnQgZGV0YWlsczpcIiwge1xuICAgICAgICBhZ2VudElkLFxuICAgICAgICBhcGlVcmw6IGAke2FwaVVybH0vYWktYWdlbnRzLyR7YWdlbnRJZH1gXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L2FpLWFnZW50cy8ke2FnZW50SWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkFnZW50IGRldGFpbHMgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGFnZW50IGRldGFpbHMnKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBjb25zb2xlLmxvZyhcIkFnZW50IGRhdGEgcmVjZWl2ZWQ6XCIsIGRhdGEpO1xuICAgICAgc2V0QWdlbnQoZGF0YS5kYXRhKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhZ2VudCBkZXRhaWxzOicsIGVycm9yKVxuICAgICAgdG9hc3Qoe1xuICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJGYWlsZWQgdG8gbG9hZCBBSSBhZ2VudC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZldGNoT3JDcmVhdGVDb252ZXJzYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKVxuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxL2FwaSdcbiAgICAgIFxuICAgICAgLy8gSWYgd2UgaGF2ZSBhIGNvbnZlcnNhdGlvbklkIGZyb20gVVJMLCBsb2FkIHRoYXQgc3BlY2lmaWMgY29udmVyc2F0aW9uXG4gICAgICBpZiAoY29udmVyc2F0aW9uSWRGcm9tVXJsKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBzcGVjaWZpYyBjb252ZXJzYXRpb24gZnJvbSBVUkw6XCIsIGNvbnZlcnNhdGlvbklkRnJvbVVybCk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9haS1jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWRGcm9tVXJsfWAsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGU6ICdjb3JzJyxcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb252ZXJzYXRpb24nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnZlcnNhdGlvbiBkYXRhOlwiLCBkYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRDb252ZXJzYXRpb24oZGF0YS5jb252ZXJzYXRpb24pO1xuICAgICAgICAgIHNldE1lc3NhZ2VzKGRhdGEubWVzc2FnZXMgfHwgW10pO1xuICAgICAgICAgIHNldElzTmV3Q29udmVyc2F0aW9uKGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzcGVjaWZpYyBjb252ZXJzYXRpb246JywgZXJyb3IpO1xuICAgICAgICAgIHRvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJGYWlsZWQgdG8gbG9hZCB0aGUgc3BlY2lmaWMgY29udmVyc2F0aW9uLiBMb2FkaW5nIGRlZmF1bHQgY29udmVyc2F0aW9uIGluc3RlYWQuXCIsXG4gICAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIG5vcm1hbCBmbG93IHRvIGZpbmQvY3JlYXRlIGEgY29udmVyc2F0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBleGlzdGluZyBjb252ZXJzYXRpb25zOlwiLCB7XG4gICAgICAgIGFnZW50SWQsXG4gICAgICAgIGJ1c2luZXNzSWQsXG4gICAgICAgIHVybDogYCR7YXBpVXJsfS9haS1jb252ZXJzYXRpb25zP2J1c2luZXNzX2lkPSR7YnVzaW5lc3NJZH1gXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGZpbmQgYW4gZXhpc3RpbmcgY29udmVyc2F0aW9uIHdpdGggdGhpcyBhZ2VudFxuICAgICAgY29uc3QgcmVzcG9uc2VFeGlzdGluZyA9IGF3YWl0IGZldGNoKGAke2FwaVVybH0vYWktY29udmVyc2F0aW9ucz9idXNpbmVzc19pZD0ke2J1c2luZXNzSWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkV4aXN0aW5nIGNvbnZlcnNhdGlvbnMgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZUV4aXN0aW5nLnN0YXR1cyk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2VFeGlzdGluZy5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjb252ZXJzYXRpb25zJylcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gYXdhaXQgcmVzcG9uc2VFeGlzdGluZy5qc29uKClcbiAgICAgIGNvbnNvbGUubG9nKFwiRXhpc3RpbmcgY29udmVyc2F0aW9uczpcIiwgZXhpc3RpbmdEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gSWYgdGhlcmUncyBhbiBleGlzdGluZyBjb252ZXJzYXRpb24sIHVzZSBpdFxuICAgICAgaWYgKGV4aXN0aW5nRGF0YS5kYXRhICYmIGV4aXN0aW5nRGF0YS5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gTOG7jWMgY3Xhu5ljIHRyw7IgY2h1eeG7h24gduG7m2kgYWdlbnQgaGnhu4duIHThuqFpXG4gICAgICAgIGNvbnN0IGFnZW50Q29udmVyc2F0aW9ucyA9IGV4aXN0aW5nRGF0YS5kYXRhLmZpbHRlcihcbiAgICAgICAgICAoY29udjogYW55KSA9PiBjb252LmFpX2FnZW50X2lkID09PSBhZ2VudElkXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWdlbnQgY29udmVyc2F0aW9uczpcIiwgYWdlbnRDb252ZXJzYXRpb25zKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhZ2VudENvbnZlcnNhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNvbnYgPSBhZ2VudENvbnZlcnNhdGlvbnNbMF07IC8vIEzhuqV5IGN14buZYyB0csOyIGNodXnhu4duIGfhuqduIG5o4bqldFxuICAgICAgICAgIHNldENvbnZlcnNhdGlvbihjb252KVxuICAgICAgICAgIGF3YWl0IGZldGNoTWVzc2FnZXMoY29udi5pZClcbiAgICAgICAgICBzZXRJc05ld0NvbnZlcnNhdGlvbihmYWxzZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBLaMO0bmcgdMOsbSB0aOG6pXkgY3Xhu5ljIHRyw7IgY2h1eeG7h24gduG7m2kgYWdlbnQgbsOgeVxuICAgICAgICAgIHNldElzTmV3Q29udmVyc2F0aW9uKHRydWUpXG4gICAgICAgICAgc2V0TWVzc2FnZXMoW10pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgY29udmVyc2F0aW9uXG4gICAgICAgIHNldElzTmV3Q29udmVyc2F0aW9uKHRydWUpXG4gICAgICAgIHNldE1lc3NhZ2VzKFtdKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZy9jcmVhdGluZyBjb252ZXJzYXRpb246JywgZXJyb3IpXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBsb2FkIGNvbnZlcnNhdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcbiAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiXG4gICAgICB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZmV0Y2hNZXNzYWdlcyA9IGFzeW5jIChjb252ZXJzYXRpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKVxuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxL2FwaSdcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBtZXNzYWdlcyBmb3IgY29udmVyc2F0aW9uOlwiLCBjb252ZXJzYXRpb25JZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7YXBpVXJsfS9haS1jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnXG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIk1lc3NhZ2VzIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBtZXNzYWdlcycpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIGNvbnNvbGUubG9nKFwiTWVzc2FnZXMgZGF0YTpcIiwgZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIEFQSSBjw7MgdGjhu4MgdHLhuqMgduG7gSBj4bqldSB0csO6YyBraMOhYyBuaGF1XG4gICAgICBpZiAoZGF0YS5tZXNzYWdlcykge1xuICAgICAgICBzZXRNZXNzYWdlcyhkYXRhLm1lc3NhZ2VzKVxuICAgICAgfSBlbHNlIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLm1lc3NhZ2VzKSB7XG4gICAgICAgIHNldE1lc3NhZ2VzKGRhdGEuZGF0YS5tZXNzYWdlcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIG1lc3NhZ2UgZGF0YSBzdHJ1Y3R1cmU6XCIsIGRhdGEpO1xuICAgICAgICBzZXRNZXNzYWdlcyhbXSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbWVzc2FnZXM6JywgZXJyb3IpXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBsb2FkIG1lc3NhZ2VzLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCJcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgY3JlYXRlTmV3Q29udmVyc2F0aW9uID0gYXN5bmMgKGluaXRpYWxNZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYXV0aF90b2tlbicpXG4gICAgICBjb25zdCBhcGlVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjgwMDEvYXBpJ1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIG5ldyBjb252ZXJzYXRpb24gd2l0aDpcIiwge1xuICAgICAgICBhZ2VudElkLFxuICAgICAgICBidXNpbmVzc0lkLFxuICAgICAgICBpbml0aWFsTWVzc2FnZSxcbiAgICAgICAgYXBpVXJsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZnVsbFVybCA9IGAke2FwaVVybH0vYWktY29udmVyc2F0aW9uc2A7XG4gICAgICBjb25zb2xlLmxvZyhcIlBPU1QgcmVxdWVzdCB0bzpcIiwgZnVsbFVybCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZnVsbFVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhaV9hZ2VudF9pZDogYWdlbnRJZCxcbiAgICAgICAgICBidXNpbmVzc19pZDogYnVzaW5lc3NJZCxcbiAgICAgICAgICBpbml0aWFsX21lc3NhZ2U6IGluaXRpYWxNZXNzYWdlXG4gICAgICAgIH0pLFxuICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZSdcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiQ3JlYXRlIGNvbnZlcnNhdGlvbiByZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgY29udmVyc2F0aW9uOlwiLCBlcnJvclRleHQpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgY29udmVyc2F0aW9uJylcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgY29uc29sZS5sb2coXCJDb252ZXJzYXRpb24gY3JlYXRlZCBzdWNjZXNzZnVsbHk6XCIsIGRhdGEpO1xuICAgICAgXG4gICAgICBsZXQgY29udmVyc2F0aW9uRGF0YTtcbiAgICAgIGlmIChkYXRhLmRhdGEpIHtcbiAgICAgICAgY29udmVyc2F0aW9uRGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnZlcnNhdGlvbkRhdGEgPSBkYXRhO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRDb252ZXJzYXRpb24oY29udmVyc2F0aW9uRGF0YSk7XG4gICAgICBcbiAgICAgIGlmIChjb252ZXJzYXRpb25EYXRhLmlkKSB7XG4gICAgICAgIGF3YWl0IGZldGNoTWVzc2FnZXMoY29udmVyc2F0aW9uRGF0YS5pZCk7XG4gICAgICAgIHNldElzTmV3Q29udmVyc2F0aW9uKGZhbHNlKTtcbiAgICAgICAgLy8gQ2xlYXIgaW5wdXQgbWVzc2FnZSBhZnRlciBjcmVhdGluZyBjb252ZXJzYXRpb25cbiAgICAgICAgc2V0SW5wdXRNZXNzYWdlKFwiXCIpO1xuICAgICAgICByZXR1cm4gY29udmVyc2F0aW9uRGF0YS5pZDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGNvbnZlcnNhdGlvbjonLCBlcnJvcilcbiAgICAgIHRvYXN0KHtcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgZGVzY3JpcHRpb246IFwiRmFpbGVkIHRvIGNyZWF0ZSBjb252ZXJzYXRpb24uIFBsZWFzZSB0cnkgYWdhaW4uXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIlxuICAgICAgfSlcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpbnB1dE1lc3NhZ2UudHJpbSgpICYmIGZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXG4gICAgXG4gICAgc2V0SXNTZW5kaW5nKHRydWUpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2F1dGhfdG9rZW4nKVxuICAgICAgY29uc3QgYXBpVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxL2FwaSdcbiAgICAgIGxldCBjb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbj8uaWRcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgd2UgaGF2ZSBhIGNvbnZlcnNhdGlvbiBvciBuZWVkIHRvIGNyZWF0ZSBvbmVcbiAgICAgIGlmICghY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgYXdhaXQgY3JlYXRlTmV3Q29udmVyc2F0aW9uKGlucHV0TWVzc2FnZSlcbiAgICAgICAgXG4gICAgICAgIGlmICghY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgY29udmVyc2F0aW9uJylcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmVzZXQgaW5wdXQgYWZ0ZXIgY3JlYXRpbmcgY29udmVyc2F0aW9uXG4gICAgICAgIHNldElucHV0TWVzc2FnZShcIlwiKVxuICAgICAgICBzZXRGaWxlcyhbXSlcbiAgICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IHVzZXIgbWVzc2FnZSB0byBkaXNwbGF5IGltbWVkaWF0ZWx5XG4gICAgICBjb25zdCB1c2VyTWVzc2FnZTogTWVzc2FnZSA9IHtcbiAgICAgICAgaWQ6IGB0ZW1wLSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBhaV9jb252ZXJzYXRpb25faWQ6IGNvbnZlcnNhdGlvbklkLFxuICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgIGNvbnRlbnQ6IGlucHV0TWVzc2FnZSxcbiAgICAgICAgaXNfcmVhZDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBhc3Npc3RhbnQgbWVzc2FnZSB3aXRoIGxvYWRpbmcgc3RhdGVcbiAgICAgIGNvbnN0IHRlbXBBc3Npc3RhbnRNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgICBpZDogYHRlbXAtcmVzcG9uc2UtJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIGFpX2NvbnZlcnNhdGlvbl9pZDogY29udmVyc2F0aW9uSWQsXG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBjb250ZW50OiAnJyxcbiAgICAgICAgaXNfcmVhZDogZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgbG9hZGluZzogdHJ1ZVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgdGVtcG9yYXJ5IG1lc3NhZ2VzIHRvIHRoZSBVSVxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgdXNlck1lc3NhZ2UsIHRlbXBBc3Npc3RhbnRNZXNzYWdlXSlcbiAgICAgIFxuICAgICAgLy8gUHJlcGFyZSBmb3JtIGRhdGEgZm9yIHRoZSByZXF1ZXN0XG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnQnLCBpbnB1dE1lc3NhZ2UpXG4gICAgICBcbiAgICAgIC8vIEFkZCBmaWxlcyBpZiBhbnlcbiAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQWRkaW5nIGZpbGVzIHRvIHJlcXVlc3Q6XCIsIGZpbGVzLmxlbmd0aCk7XG4gICAgICAgIGZpbGVzLmZvckVhY2goZmlsZSA9PiB7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlc1tdJywgZmlsZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgaW5wdXQgYW5kIGZpbGVzXG4gICAgICBzZXRJbnB1dE1lc3NhZ2UoXCJcIilcbiAgICAgIHNldEZpbGVzKFtdKVxuICAgICAgXG4gICAgICAvLyBTdGVwIDE6IEZpcnN0IHNlbmQgdGhlIG1lc3NhZ2UgdG8gdGhlIHN0cmVhbS1wcmVwYXJlIGVuZHBvaW50IHRvIGdldCBhIHRva2VuXG4gICAgICBjb25zdCBwcmVwYXJlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHthcGlVcmx9L2FpLWNvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH0vbWVzc2FnZXMvc3RyZWFtLXByZXBhcmVgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBjb250ZW50OiBpbnB1dE1lc3NhZ2VcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXByZXBhcmVSZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBwcmVwYXJlIHN0cmVhbWluZyBzZXNzaW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHByZXBhcmVEYXRhID0gYXdhaXQgcHJlcGFyZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnN0IHN0cmVhbVRva2VuID0gcHJlcGFyZURhdGEuc3RyZWFtX3Rva2VuO1xuICAgICAgXG4gICAgICBpZiAoIXN0cmVhbVRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc3RyZWFtIHRva2VuIHJlY2VpdmVkJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFN0ZXAgMjogVXNlIHRoZSBzdHJlYW0gdG9rZW4gdG8gY29ubmVjdCB0byB0aGUgc3RyZWFtaW5nIGVuZHBvaW50XG4gICAgICBjb25zdCBzdHJlYW1VcmwgPSBgJHthcGlVcmx9L2FpLWRpcmVjdC1zdHJlYW0vJHtzdHJlYW1Ub2tlbn1gO1xuICAgICAgY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHRvIHN0cmVhbWluZyBVUkw6XCIsIHN0cmVhbVVybCk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBFdmVudCBTb3VyY2UgZm9yIFNTRSAoU2VydmVyLVNlbnQgRXZlbnRzKVxuICAgICAgY29uc3QgZXZlbnRTb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2Uoc3RyZWFtVXJsKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXZlbnRTb3VyY2UgY3JlYXRlZFwiKTtcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIGNvbm5lY3Rpb24gb3BlblxuICAgICAgZXZlbnRTb3VyY2Uub25vcGVuID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXZlbnRTb3VyY2UgY29ubmVjdGlvbiBvcGVuZWQ6XCIsIGV2ZW50KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGxldCByZWFsVXNlck1lc3NhZ2VJZCA9IHByZXBhcmVEYXRhLm1lc3NhZ2U/LmlkIHx8ICcnO1xuICAgICAgbGV0IHJlYWxBc3Npc3RhbnRNZXNzYWdlSWQgPSAnJztcbiAgICAgIFxuICAgICAgLy8gU2V0IHRoZSB1c2VyIG1lc3NhZ2Ugd2l0aCB0aGUgYWN0dWFsIElEIGZyb20gdGhlIHNlcnZlclxuICAgICAgaWYgKHByZXBhcmVEYXRhLm1lc3NhZ2UpIHtcbiAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4gXG4gICAgICAgICAgbXNnLmlkID09PSB1c2VyTWVzc2FnZS5pZCA/IHsuLi5wcmVwYXJlRGF0YS5tZXNzYWdlfSA6IG1zZ1xuICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIHN0cmVhbSBldmVudHNcbiAgICAgIGV2ZW50U291cmNlLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlN0cmVhbSBldmVudCByZWNlaXZlZDpcIiwgZXZlbnQuZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gXCJbRE9ORV1cIikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RyZWFtIGNvbXBsZXRlLCBjbG9zaW5nIGNvbm5lY3Rpb25cIik7XG4gICAgICAgICAgZXZlbnRTb3VyY2UuY2xvc2UoKTtcbiAgICAgICAgICAvLyBD4bqtcCBuaOG6rXQgdHLhuqFuZyB0aMOhaSBsb2FkaW5nIGtoaSBob8OgbiB0aMOgbmhcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBcbiAgICAgICAgICAgIG1zZy5pZCA9PT0gdGVtcEFzc2lzdGFudE1lc3NhZ2UuaWQgXG4gICAgICAgICAgICAgID8gey4uLm1zZywgbG9hZGluZzogZmFsc2V9IFxuICAgICAgICAgICAgICA6IG1zZ1xuICAgICAgICAgICkpO1xuICAgICAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFyc2VkIHN0cmVhbSBkYXRhOlwiLCBkYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgZGF0YSBmcm9tIGRpcmVjdCBzdHJlYW1pbmcgZW5kcG9pbnRcbiAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnY2h1bmsnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlRleHQgY2h1bmsgcmVjZWl2ZWQ6XCIsIGRhdGEuY29udGVudCk7XG4gICAgICAgICAgICAvLyBIaeG7g24gdGjhu4sgbmdheSBs4bqtcCB04bupYyB04burbmcgY2h1bmsgdGV4dFxuICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlcyA9IHByZXYubWFwKG1zZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1zZy5pZCA9PT0gdGVtcEFzc2lzdGFudE1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogbXNnLmNvbnRlbnQgKyBkYXRhLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZE1lc3NhZ2VzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEhhbmRsZSBjb21wbGV0aW9uIGV2ZW50IGZyb20gQXNzaXN0YW50cyBBUElcbiAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0cmVhbWluZyBjb21wbGV0ZSwgd2FpdGluZyBmb3IgbWVzc2FnZSBJRFwiKTtcbiAgICAgICAgICAgIC8vIFdlJ2xsIGtlZXAgdGhlIG1lc3NhZ2UgYXMgaXMgdW50aWwgd2UgZ2V0IHRoZSBtZXNzYWdlX3NhdmVkIGV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEhhbmRsZSBzYXZlZCBtZXNzYWdlIHdpdGggSUQgZnJvbSB0aGUgYmFja2VuZFxuICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdtZXNzYWdlX3NhdmVkJyAmJiBkYXRhLm1lc3NhZ2VfaWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTWVzc2FnZSBzYXZlZCB3aXRoIElEOlwiLCBkYXRhLm1lc3NhZ2VfaWQpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIG91ciB0ZW1wb3JhcnkgbWVzc2FnZSB3aXRoIHRoZSByZWFsIG9uZSBmcm9tIHRoZSBkYXRhYmFzZVxuICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4gXG4gICAgICAgICAgICAgIG1zZy5pZCA9PT0gdGVtcEFzc2lzdGFudE1lc3NhZ2UuaWQgXG4gICAgICAgICAgICAgICAgPyB7Li4ubXNnLCBpZDogZGF0YS5tZXNzYWdlX2lkLCBsb2FkaW5nOiBmYWxzZX0gXG4gICAgICAgICAgICAgICAgOiBtc2dcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSGFuZGxlIGVycm9yIGV2ZW50XG4gICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJlY2VpdmVkOlwiLCBkYXRhLm1lc3NhZ2UgfHwgZGF0YS5lcnJvcik7XG4gICAgICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLm1lc3NhZ2UgfHwgZGF0YS5lcnJvciB8fCBcIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcgeW91ciBtZXNzYWdlLlwiLFxuICAgICAgICAgICAgICB2YXJpYW50OiBcImRlc3RydWN0aXZlXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGFzc2lzdGFudCBtZXNzYWdlIHRvIHNob3cgZXJyb3JcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgICAgICBtc2cuaWQgPT09IHRlbXBBc3Npc3RhbnRNZXNzYWdlLmlkIFxuICAgICAgICAgICAgICAgID8gey4uLm1zZywgY29udGVudDogZGF0YS5tZXNzYWdlIHx8IFwiWGluIGzhu5dpLCDEkcOjIHjhuqN5IHJhIGzhu5dpIGtoaSB44butIGzDvSB0aW4gbmjhuq9uLlwiLCBsb2FkaW5nOiBmYWxzZX0gXG4gICAgICAgICAgICAgICAgOiBtc2dcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIHN0cmVhbSBldmVudDpcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgZXZlbnRTb3VyY2Uub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXZlbnRTb3VyY2UgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBlcnJvciBpcyBkdWUgdG8gdGhlIHVzZXIgbm90IGJlaW5nIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXZlbnQgJiYgKGVycm9yIGFzIGFueSkudGFyZ2V0Py5yZWFkeVN0YXRlID09PSBFdmVudFNvdXJjZS5DTE9TRUQpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXZlbnRTb3VyY2UgY29ubmVjdGlvbiBjbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGV2ZW50U291cmNlLmNsb3NlKCk7XG4gICAgICAgIHNldElzU2VuZGluZyhmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICB0b2FzdCh7XG4gICAgICAgICAgdGl0bGU6IFwiQ29ubmVjdGlvbiBFcnJvclwiLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvdWxkIG5vdCBlc3RhYmxpc2ggc3RyZWFtaW5nIGNvbm5lY3Rpb24uIFBsZWFzZSB0cnkgYWdhaW4uXCIsXG4gICAgICAgICAgdmFyaWFudDogXCJkZXN0cnVjdGl2ZVwiXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBhc3Npc3RhbnQgbWVzc2FnZSB0byBzaG93IGVycm9yXG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IFxuICAgICAgICAgIG1zZy5pZCA9PT0gdGVtcEFzc2lzdGFudE1lc3NhZ2UuaWQgXG4gICAgICAgICAgICA/IHsuLi5tc2csIGNvbnRlbnQ6IFwiS2jDtG5nIHRo4buDIGvhur90IG7hu5FpIHThu5tpIG3DoXkgY2jhu6cuIFZ1aSBsw7JuZyB0aOG7rSBs4bqhaSBzYXUgaG/hurdjIMSRxINuZyBuaOG6rXAgbOG6oWkuXCIsIGxvYWRpbmc6IGZhbHNlfSBcbiAgICAgICAgICAgIDogbXNnXG4gICAgICAgICkpO1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBtZXNzYWdlOicsIGVycm9yKVxuICAgICAgc2V0SXNTZW5kaW5nKGZhbHNlKVxuICAgICAgXG4gICAgICB0b2FzdCh7XG4gICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkZhaWxlZCB0byBzZW5kIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZGVzdHJ1Y3RpdmVcIlxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IFJlYWN0LktleWJvYXJkRXZlbnQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIktleSBkb3duIGV2ZW50OlwiLCBlLmtleSk7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIGNvbnNvbGUubG9nKFwiRW50ZXIga2V5IHByZXNzZWQgKHdpdGhvdXQgc2hpZnQpXCIpXG4gICAgICBzZW5kTWVzc2FnZSgpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRmlsZUNsaWNrID0gKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiRmlsZSBidXR0b24gY2xpY2tlZFwiKTtcbiAgICBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiRmlsZSBpbnB1dCBjaGFuZ2VkXCIpO1xuICAgIGlmIChlLnRhcmdldC5maWxlcykge1xuICAgICAgY29uc3QgbmV3RmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzKVxuICAgICAgY29uc29sZS5sb2coXCJTZWxlY3RlZCBmaWxlczpcIiwgbmV3RmlsZXMubWFwKGYgPT4gZi5uYW1lKSk7XG4gICAgICBzZXRGaWxlcyhwcmV2ID0+IFsuLi5wcmV2LCAuLi5uZXdGaWxlc10pXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVtb3ZlRmlsZSA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJSZW1vdmluZyBmaWxlIGF0IGluZGV4OlwiLCBpbmRleCk7XG4gICAgc2V0RmlsZXMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKVxuICB9XG5cbiAgY29uc3QgZm9ybWF0VGltZSA9IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZylcbiAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KVxuICB9XG5cbiAgaWYgKCFpc0xvZ2dlZEluKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxBcHBTaGVsbD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweS02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTggYmcteWVsbG93LTUwIGJvcmRlciBib3JkZXIteWVsbG93LTMwMCByb3VuZGVkLW1kXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTJcIj5C4bqhbiBj4bqnbiDEkcSDbmcgbmjhuq1wIHRyxrDhu5tjPC9oMz5cbiAgICAgICAgICAgIDxwPlZ1aSBsw7JuZyA8YSBocmVmPVwiL2xvZ2luXCIgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIj7EkcSDbmcgbmjhuq1wPC9hPiDEkeG7gyBz4butIGThu6VuZyB0w61uaCBuxINuZyBuw6B5LjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0FwcFNoZWxsPlxuICAgIClcbiAgfVxuXG4gIGlmICghYnVzaW5lc3NJZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8QXBwU2hlbGw+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHktNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC04IGJnLXllbGxvdy01MCBib3JkZXIgYm9yZGVyLXllbGxvdy0zMDAgcm91bmRlZC1tZFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCBtYi0yXCI+Q2jhu41uIGRvYW5oIG5naGnhu4dwPC9oMz5cbiAgICAgICAgICAgIDxwPlZ1aSBsw7JuZyBjaOG7jW4gbeG7mXQgZG9hbmggbmdoaeG7h3AgxJHhu4MgY2hhdCB24bubaSBBSSBBZ2VudC48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9BcHBTaGVsbD5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxBcHBTaGVsbD5cbiAgICAgIDxzdHlsZSBqc3ggZ2xvYmFsPntgXG4gICAgICAgIC50eXBpbmctaW5kaWNhdG9yIHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC50eXBpbmctaW5kaWNhdG9yIHNwYW4ge1xuICAgICAgICAgIGhlaWdodDogOHB4O1xuICAgICAgICAgIHdpZHRoOiA4cHg7XG4gICAgICAgICAgYmFja2dyb3VuZDogY3VycmVudENvbG9yO1xuICAgICAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgbWFyZ2luOiAwIDJweDtcbiAgICAgICAgICBhbmltYXRpb246IGJvdW5jZSAxLjVzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAudHlwaW5nLWluZGljYXRvciBzcGFuOm50aC1jaGlsZCgxKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAwcztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnR5cGluZy1pbmRpY2F0b3Igc3BhbjpudGgtY2hpbGQoMikge1xuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogMC4ycztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnR5cGluZy1pbmRpY2F0b3Igc3BhbjpudGgtY2hpbGQoMykge1xuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogMC40cztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgQGtleWZyYW1lcyBib3VuY2Uge1xuICAgICAgICAgIDAlLCA2MCUsIDEwMCUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICAzMCUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC00cHgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAke21hcmtkb3duU3R5bGVzfVxuICAgICAgYH08L3N0eWxlPlxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1bY2FsYygxMDB2aC00cmVtKV1cIj5cbiAgICAgICAgey8qIENoYXQgaGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIHAtMiBtZDpwLTQgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtZDpnYXAtM1wiPlxuICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBjbGFzc05hbWU9XCJtci0xIHAtMSBtZDpwLTIgaC04IHctOCBtZDpoLTkgbWQ6dy05XCIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9haVwiPlxuICAgICAgICAgICAgICAgIDxBcnJvd0xlZnRJY29uIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJoLTggdy04IG1kOmgtOSBtZDp3LTlcIj5cbiAgICAgICAgICAgICAge2FnZW50Py5hdmF0YXIgPyAoXG4gICAgICAgICAgICAgICAgPEF2YXRhckltYWdlIFxuICAgICAgICAgICAgICAgICAgc3JjPXthZ2VudC5hdmF0YXIuc3RhcnRzV2l0aCgnaHR0cCcpIFxuICAgICAgICAgICAgICAgICAgICA/IGFnZW50LmF2YXRhciBcbiAgICAgICAgICAgICAgICAgICAgOiBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMPy5yZXBsYWNlKCcvYXBpJywgJycpfS9zdG9yYWdlLyR7YWdlbnQuYXZhdGFyfWB9XG4gICAgICAgICAgICAgICAgICBhbHQ9e2FnZW50Py5uYW1lIHx8ICdBSSBBZ2VudCd9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e2FnZW50Py5uYW1lPy5zdWJzdHJpbmcoMCwgMikudG9VcHBlckNhc2UoKSB8fCAnQUknfTwvQXZhdGFyRmFsbGJhY2s+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0F2YXRhcj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC14cyBtZDp0ZXh0LXNtXCI+e2FnZW50Py5uYW1lIHx8ICdBSSBBZ2VudCd9PC9oMj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgaGlkZGVuIHNtOmJsb2NrXCI+XG4gICAgICAgICAgICAgICAge2NvbnZlcnNhdGlvbj8udGl0bGUgfHwgJ05ldyBjb252ZXJzYXRpb24nfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogRGVidWcgaW5mbyAtIGhpZGUgb24gbW9iaWxlICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgaGlkZGVuIG1kOmJsb2NrXCI+XG4gICAgICAgICAgICA8cD5BUEk6IHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdOb3Qgc2V0J308L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgPFRvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgICAgIDxUb29sdGlwPlxuICAgICAgICAgICAgICA8VG9vbHRpcFRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCIgXG4gICAgICAgICAgICAgICAgICBzaXplPVwiaWNvblwiIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17ZmV0Y2hPckNyZWF0ZUNvbnZlcnNhdGlvbn1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTggdy04IG1kOmgtOSBtZDp3LTlcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3dJY29uIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgICA8VG9vbHRpcENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPHA+U3RhcnQgbmV3IGNvbnZlcnNhdGlvbjwvcD5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwQ29udGVudD5cbiAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICA8L1Rvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogQ2hhdCBtZXNzYWdlcyAqL31cbiAgICAgICAgPFNjcm9sbEFyZWEgY2xhc3NOYW1lPVwiZmxleC0xIHAtMiBtZDpwLTRcIj5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgICAgICAgPExvYWRlcjJJY29uIGNsYXNzTmFtZT1cImgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogbWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLWZ1bGwgdGV4dC1jZW50ZXIgcHgtNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXByaW1hcnkvMTAgcC00IHJvdW5kZWQtZnVsbCBtYi00XCI+XG4gICAgICAgICAgICAgICAgPEF2YXRhciBjbGFzc05hbWU9XCJoLTEyIHctMTJcIj5cbiAgICAgICAgICAgICAgICAgIHthZ2VudD8uYXZhdGFyID8gKFxuICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2UgXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXthZ2VudC5hdmF0YXIuc3RhcnRzV2l0aCgnaHR0cCcpIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBhZ2VudC5hdmF0YXIgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkw/LnJlcGxhY2UoJy9hcGknLCAnJyl9L3N0b3JhZ2UvJHthZ2VudC5hdmF0YXJ9YH1cbiAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2FnZW50Py5uYW1lIHx8ICdBSSBBZ2VudCd9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2s+e2FnZW50Py5uYW1lPy5zdWJzdHJpbmcoMCwgMikudG9VcHBlckNhc2UoKSB8fCAnQUknfTwvQXZhdGFyRmFsbGJhY2s+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQXZhdGFyPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtYmFzZSBtZDp0ZXh0LWxnIGZvbnQtbWVkaXVtIG1iLTJcIj5TdGFydCBjaGF0dGluZyB3aXRoIHthZ2VudD8ubmFtZX08L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtYXgtdy1tZCBtYi02XCI+XG4gICAgICAgICAgICAgICAge2FnZW50Py5kZXNjcmlwdGlvbiB8fCAnQXNrIGFueSBxdWVzdGlvbnMgb3Igc3RhcnQgYSBjb252ZXJzYXRpb24uJ31cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHBiLTRcIj5cbiAgICAgICAgICAgICAge21lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSAhPT0gJ3N5c3RlbScpLm1hcCgobWVzc2FnZSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWR9IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCAke21lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J31gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBnYXAtMiBtZDpnYXAtMyBtYXgtdy1bODUlXSBtZDptYXgtdy1bODAlXSAke21lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ2ZsZXgtcm93LXJldmVyc2UnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwiaC02IHctNiBtZDpoLTggbWQ6dy04IGZsZXgtc2hyaW5rLTAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnJvbGUgPT09ICd1c2VyJyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBdmF0YXJGYWxsYmFjaz5NZTwvQXZhdGFyRmFsbGJhY2s+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IGFnZW50Py5hdmF0YXIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8QXZhdGFySW1hZ2UgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17YWdlbnQuYXZhdGFyLnN0YXJ0c1dpdGgoJ2h0dHAnKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFnZW50LmF2YXRhciBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkw/LnJlcGxhY2UoJy9hcGknLCAnJyl9L3N0b3JhZ2UvJHthZ2VudC5hdmF0YXJ9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXthZ2VudD8ubmFtZSB8fCAnQUknfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhckZhbGxiYWNrPnthZ2VudD8ubmFtZT8uc3Vic3RyaW5nKDAsIDIpLnRvVXBwZXJDYXNlKCkgfHwgJ0FJJ308L0F2YXRhckZhbGxiYWNrPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQXZhdGFyPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9e2Ake21lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ2JnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQnIDogJ2JnLW11dGVkJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTIgbWQ6cC0zIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UubG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE1hcmtkb3duQ29udGVudCBjb250ZW50PXttZXNzYWdlLmNvbnRlbnR9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTEgZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR5cGluZy1pbmRpY2F0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWFya2Rvd25Db250ZW50IGNvbnRlbnQ9e21lc3NhZ2UuY29udGVudH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBEaXNwbGF5IGZpbGVzIGlmIGFueSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuZmlsZXMgJiYgbWVzc2FnZS5maWxlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgZ3JpZCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuZmlsZXMubWFwKChmaWxlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPXtmaWxlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgcm91bmRlZCBiZy1iYWNrZ3JvdW5kLzUwIGhvdmVyOmJnLWJhY2tncm91bmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBhcGVyY2xpcEljb24gY2xhc3NOYW1lPVwiaC0zIHctMyBtZDpoLTQgbWQ6dy00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmlsZS5zcGxpdCgnLycpLnBvcCgpIHx8ICdGaWxlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LVsxMHB4XSBtZDp0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0xICR7bWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAndGV4dC1yaWdodCcgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRUaW1lKG1lc3NhZ2UuY3JlYXRlZF9hdCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L1Njcm9sbEFyZWE+XG4gICAgICAgIFxuICAgICAgICB7LyogU2VsZWN0ZWQgZmlsZXMgKi99XG4gICAgICAgIHtmaWxlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTIgbWQ6cHgtNCBwdC0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgIHtmaWxlcy5tYXAoKGZpbGUsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBiZy1tdXRlZCBwLTEgcm91bmRlZCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZSBtYXgtdy1bODBweF0gbWQ6bWF4LXctWzEwMHB4XVwiPntmaWxlLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCIgXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJpY29uXCIgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNCB3LTQgcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlRmlsZShpbmRleCl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPsOXPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7LyogTWVzc2FnZSBpbnB1dCAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBwLTIgbWQ6cC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4XCI+XG4gICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCIgXG4gICAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlRmlsZUNoYW5nZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgYSBtZXNzYWdlLi4uXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2lucHV0TWVzc2FnZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmcgfHwgaXNMb2FkaW5nfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwci0yMCBtZDpwci0yNCB0ZXh0LXNtIG1kOnRleHQtYmFzZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTEgdG9wLTEgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAge2FnZW50Py5jYXBhYmlsaXRpZXM/LmluY2x1ZGVzKCdpbWFnZV91cGxvYWQnKSAmJiAoXG4gICAgICAgICAgICAgICAgPFRvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgICAgICAgICAgIDxUb29sdGlwPlxuICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcFRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImljb25cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC03IHctNyBtZDpoLTggbWQ6dy04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUZpbGVDbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlbmRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJoLTMgdy0zIG1kOmgtNCBtZDp3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHA+VXBsb2FkIGltYWdlczwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHthZ2VudD8uY2FwYWJpbGl0aWVzPy5pbmNsdWRlcygndm9pY2UnKSAmJiAoXG4gICAgICAgICAgICAgICAgPFRvb2x0aXBQcm92aWRlcj5cbiAgICAgICAgICAgICAgICAgIDxUb29sdGlwPlxuICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcFRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImljb25cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC03IHctNyBtZDpoLTggbWQ6dy04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfSAvLyBWb2ljZSBmZWF0dXJlIG5vdCB5ZXQgaW1wbGVtZW50ZWRcbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TWljSWNvbiBjbGFzc05hbWU9XCJoLTMgdy0zIG1kOmgtNCBtZDp3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXBUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgPHA+Vm9pY2UgbWVzc2FnZSAoY29taW5nIHNvb24pPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L1Rvb2x0aXBDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgIDwvVG9vbHRpcFByb3ZpZGVyPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCIgXG4gICAgICAgICAgICAgICAgc2l6ZT1cImljb25cIiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTcgdy03IG1kOmgtOCBtZDp3LThcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2VuZCBidXR0b24gY2xpY2tlZFwiKTtcbiAgICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZW5kaW5nIHx8IChpbnB1dE1lc3NhZ2UudHJpbSgpID09PSAnJyAmJiBmaWxlcy5sZW5ndGggPT09IDApfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzU2VuZGluZyA/IChcbiAgICAgICAgICAgICAgICAgIDxMb2FkZXIySWNvbiBjbGFzc05hbWU9XCJoLTMgdy0zIG1kOmgtNCBtZDp3LTQgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPFNlbmRJY29uIGNsYXNzTmFtZT1cImgtMyB3LTMgbWQ6aC00IG1kOnctNFwiIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L0FwcFNoZWxsPlxuICApXG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVBhcmFtcyIsInVzZVJvdXRlciIsIkFwcFNoZWxsIiwiQnV0dG9uIiwiSW5wdXQiLCJBdmF0YXIiLCJBdmF0YXJGYWxsYmFjayIsIkF2YXRhckltYWdlIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiVG9vbHRpcCIsIlRvb2x0aXBDb250ZW50IiwiVG9vbHRpcFByb3ZpZGVyIiwiVG9vbHRpcFRyaWdnZXIiLCJTY3JvbGxBcmVhIiwiQXJyb3dMZWZ0SWNvbiIsIlNlbmRJY29uIiwiTWljSWNvbiIsIkltYWdlSWNvbiIsIlBhcGVyY2xpcEljb24iLCJSZWZyZXNoQ3dJY29uIiwiTG9hZGVyMkljb24iLCJ1c2VUb2FzdCIsIkxpbmsiLCJnZXRCdXNpbmVzc0lkIiwiUmVhY3RNYXJrZG93biIsInJlbWFya0dmbSIsIlByaXNtIiwiU3ludGF4SGlnaGxpZ2h0ZXIiLCJ0b21vcnJvdyIsIm1hcmtkb3duU3R5bGVzIiwicCIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsInVsIiwib2wiLCJsaSIsImNvZGUiLCJwcmUiLCJibG9ja3F1b3RlIiwiYSIsInRhYmxlIiwidGhlYWQiLCJ0aCIsInRkIiwibWFya2Rvd25Db21wb25lbnRzIiwiY2hpbGRyZW4iLCJjbGFzc05hbWUiLCJub2RlIiwiaW5saW5lIiwicHJvcHMiLCJtYXRjaCIsImV4ZWMiLCJzdHlsZSIsImxhbmd1YWdlIiwiUHJlVGFnIiwiU3RyaW5nIiwicmVwbGFjZSIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJNYXJrZG93bkNvbnRlbnQiLCJjb250ZW50IiwiZGl2IiwicmVtYXJrUGx1Z2lucyIsImNvbXBvbmVudHMiLCJDaGF0UGFnZSIsInByb2Nlc3MiLCJhZ2VudCIsInBhcmFtcyIsInJvdXRlciIsInRvYXN0Iiwic2V0QWdlbnQiLCJjb252ZXJzYXRpb24iLCJzZXRDb252ZXJzYXRpb24iLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaW5wdXRNZXNzYWdlIiwic2V0SW5wdXRNZXNzYWdlIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiaXNTZW5kaW5nIiwic2V0SXNTZW5kaW5nIiwiaXNOZXdDb252ZXJzYXRpb24iLCJzZXRJc05ld0NvbnZlcnNhdGlvbiIsImlzTG9nZ2VkSW4iLCJzZXRJc0xvZ2dlZEluIiwiYnVzaW5lc3NJZCIsInNldEJ1c2luZXNzSWQiLCJmaWxlcyIsInNldEZpbGVzIiwibWVzc2FnZXNFbmRSZWYiLCJmaWxlSW5wdXRSZWYiLCJhZ2VudElkIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJjb252ZXJzYXRpb25JZEZyb21VcmwiLCJnZXQiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjdXJyZW50QnVzaW5lc3NJZCIsImNvbnNvbGUiLCJsb2ciLCJmZXRjaEFnZW50RGV0YWlscyIsImZldGNoT3JDcmVhdGVDb252ZXJzYXRpb24iLCJzY3JvbGxUb0JvdHRvbSIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYXBpVXJsIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwibW9kZSIsImNyZWRlbnRpYWxzIiwic3RhdHVzIiwib2siLCJFcnJvciIsImRhdGEiLCJqc29uIiwiZXJyb3IiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidmFyaWFudCIsInVybCIsInJlc3BvbnNlRXhpc3RpbmciLCJleGlzdGluZ0RhdGEiLCJsZW5ndGgiLCJhZ2VudENvbnZlcnNhdGlvbnMiLCJmaWx0ZXIiLCJjb252IiwiYWlfYWdlbnRfaWQiLCJmZXRjaE1lc3NhZ2VzIiwiaWQiLCJjb252ZXJzYXRpb25JZCIsImNyZWF0ZU5ld0NvbnZlcnNhdGlvbiIsImluaXRpYWxNZXNzYWdlIiwiZnVsbFVybCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYnVzaW5lc3NfaWQiLCJpbml0aWFsX21lc3NhZ2UiLCJlcnJvclRleHQiLCJ0ZXh0IiwiY29udmVyc2F0aW9uRGF0YSIsInNlbmRNZXNzYWdlIiwidHJpbSIsInByZXBhcmVEYXRhIiwidXNlck1lc3NhZ2UiLCJEYXRlIiwibm93IiwiYWlfY29udmVyc2F0aW9uX2lkIiwicm9sZSIsImlzX3JlYWQiLCJjcmVhdGVkX2F0IiwidG9JU09TdHJpbmciLCJ0ZW1wQXNzaXN0YW50TWVzc2FnZSIsImxvYWRpbmciLCJwcmV2IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImZvckVhY2giLCJmaWxlIiwicHJlcGFyZVJlc3BvbnNlIiwic3RyZWFtVG9rZW4iLCJzdHJlYW1fdG9rZW4iLCJzdHJlYW1VcmwiLCJldmVudFNvdXJjZSIsIkV2ZW50U291cmNlIiwib25vcGVuIiwiZXZlbnQiLCJyZWFsVXNlck1lc3NhZ2VJZCIsIm1lc3NhZ2UiLCJyZWFsQXNzaXN0YW50TWVzc2FnZUlkIiwibWFwIiwibXNnIiwib25tZXNzYWdlIiwiY2xvc2UiLCJwYXJzZSIsInR5cGUiLCJ1cGRhdGVkTWVzc2FnZXMiLCJtZXNzYWdlX2lkIiwiZXJyIiwib25lcnJvciIsIkV2ZW50IiwicmVhZHlTdGF0ZSIsIkNMT1NFRCIsImhhbmRsZUtleURvd24iLCJlIiwia2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZUZpbGVDbGljayIsImNsaWNrIiwiaGFuZGxlRmlsZUNoYW5nZSIsIm5ld0ZpbGVzIiwiQXJyYXkiLCJmcm9tIiwiZiIsIm5hbWUiLCJyZW1vdmVGaWxlIiwiaW5kZXgiLCJfIiwiaSIsImZvcm1hdFRpbWUiLCJkYXRlU3RyaW5nIiwiZGF0ZSIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJhc0NoaWxkIiwiYXZhdGFyIiwic3JjIiwic3RhcnRzV2l0aCIsImFsdCIsInN1YnN0cmluZyIsInRvVXBwZXJDYXNlIiwic2l6ZSIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsIm0iLCJzcGFuIiwic3BsaXQiLCJwb3AiLCJyZWYiLCJpbnB1dCIsIm9uQ2hhbmdlIiwibXVsdGlwbGUiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25LZXlEb3duIiwiY2FwYWJpbGl0aWVzIiwiaW5jbHVkZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/ai/[agentId]/chat/page.tsx\n"));

/***/ })

});